<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>5 Preparing the Waveform Runtime Environment</title> 
<meta http-equiv="Content-Type" content="text/html; charset="utf-8""> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,2,next,javascript,charset="utf-8" --> 
<meta name="src" content="main.tex"> 
<link rel="stylesheet" type="text/css" href="main.css"> 
<script type="text/javascript" src="scripts/shCore.js"></script> 
<script type="text/javascript" src="scripts/shBrushCpp.js"></script> 
<script type="text/javascript" src="scripts/shBrushJava.js"></script> 
<script type="text/javascript" src="scripts/shBrushPython.js"></script> 
<script type="text/javascript" src="scripts/shBrushBash.js"></script> 
<script type="text/javascript" src="scripts/shBrushXml.js"></script> 
<link href="styles/shCore.css" rel="stylesheet" type="text/css" /> 
<link href="styles/shThemeDefault.css" rel="stylesheet" type="text/css" /> 
<script type="text/javascript"> 
SyntaxHighlighter.all() 
</script> 
 </head><body 
>
<link rel="icon" type="image/png" href="images/RedHawk_Logo16x.gif"> 
<script> 
function f() {  
document.getElementById('main_content_wrap').focus(); 
} 
if (window.addEventListener) { 
window.addEventListener("load", f, false); 
} else if (window.attachEvent) { 
window.attachEvent("onload", f); 
} 
</script> 
<div class="header"> 
<div class="pattern left"></div> 
<ul class="navbar"> 
<li><a class="logo-small" href="../index.html"><img src="images/RedHawk_Logo_ALT_B_121px.png"/></a></li> <li><a href="../index.html">Home</a></li> 
<li><a class="active" href="../documentation.html">Documentation</a></li> 
<li><a href="../download.html">Download</a></li> 
<li><a href="../community.html">Community</a></li> 
</ul> 
<div class="pattern right"></div> 
<a id="forkme_banner" href="https://github.com/redhawksdr">View on GitHub</a> 
<noscript><div class ="NoScript">WARNING: JAVASCRIPT is not enabled. JAVASCRIPT is required for viewing code snippets.</div></noscript> 
</div> 
<!-- Custom MAIN CONTENT --> 
<div id="main_content_wrap" tabindex="0" class="outer"> 
<section id="main_content" class="inner"> 
<!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="mainch6.html" >next</a>] [<a 
href="mainch4.html" >prev</a>] [<a 
href="mainch4.html#tailmainch4.html" >prev-tail</a>] [<a 
href="#tailmainch5.html">tail</a>] [<a 
href="main.html#mainch5.html" >up</a>] </p></div>
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;5</span><br /><a 
 id="x7-320005"></a>Preparing the Waveform Runtime Environment</h2>
<!--l. 4--><p class="noindent" >This chapter explains how to create a general Node for the BeagleBone Black and a connection
between the Waveform and the <span 
class="ectt-1200">RTL2832U </span>Device.
<h3 class="sectionHead"><span class="titlemark">5.1   </span> <a 
 id="x7-330005.1"></a>Creating a General Node for the BeagleBone Black</h3>
<!--l. 8--><p class="noindent" >To create a Node for the BeagleBone Black using the <span 
class="ectt-1200">nodeconfig </span>executable, enter the following
commands on the BeagleBone Black.
<script type="syntaxhighlighter" class="brush: bash"><![CDATA[
$ cd $SDRROOT/dev/devices/GPP/python/
$ ./nodeconfig.py --domainname REDHAWK_DEV
]]></script>
<!--l. 15--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">5.2   </span> <a 
 id="x7-340005.2"></a>Connecting the <span 
class="ectt-1200">RTL2832U </span>Device to the Waveform</h3>
<!--l. 17--><p class="noindent" >The following procedure explains how to properly connect the <span 
class="ectt-1200">RTL2832U </span>Device to the
<span 
class="ectt-1200">FMDemodulator </span>Component in the <span 
class="ectt-1200">RBDS_Wave </span>Waveform.
<!--l. 20--><p class="noindent" >
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x7-34002x1">
      On
      the
      BeagleBone
      Black,
      navigate
      to
      <span 
class="ectt-1200">$SDRROOT/dom/waveforms/RBDS_wf</span>.
      Then
      edit
      the
      <span 
class="ectt-1200">RBDS_wf.sad.xml</span>
                                                                                         
                                                                                         
      file.
      </li>
      <li 
  class="enumerate" id="x7-34004x2">
      In
      the
      <span 
class="ectt-1200">&#x003C;connections&#x003E;</span>
      section,
      locate
      the
      <span 
class="ectt-1200">RTL_RBDS</span>
      <span 
class="ectt-1200">connectinterface</span>.
      This
      establishes
      the
      connection
      between
      the
      Device
      and
      the
      <span 
class="ectt-1200">FMDemodulator_1</span>
      Component.
      <!--l. 24--><p class="noindent" ><div class="admonition block note block-indent"><div class="note-inner"><p class="para block block-first">  If multiple instantiations of the Waveform are running at the same time, a new <span 
class="ectt-1200">uuid </span>must
      be generated for the <span 
class="ectt-1200">usesrefid</span>. </p></div></div>
      <script type="syntaxhighlighter" class="brush: xml"><![CDATA[
        <connectinterface id="RTL_RBDS">
        <usesport>
         <usesidentifier>dataFloat_out</usesidentifier>
         <deviceusedbyapplication
      usesrefid="DCE:9d74e617-d041-48e3-8063-ae276ba2187d"/>
        </usesport>
        <providesport>
         <providesidentifier>dataFloat_in</providesidentifier>
         <componentinstantiationref refid="FMDemodulator_1"/>
        </providesport>
       </connectinterface>
                                                                                         
                                                                                         
      ]]></script>
      </li>
      <li 
  class="enumerate" id="x7-34006x3">At the bottom of the <span 
class="ectt-1200">RBDS_wf.sad.xml </span>file, locate the
      <span 
class="ectt-1200">&#x003C;usesdevicedependencies&#x003E; </span>section. The <span 
class="ectt-1200">usesdevice id </span>must be the same as the <span 
class="ectt-1200">uuid </span>in
      the <span 
class="ectt-1200">usesrefid </span>section (refer to previous step). This <span 
class="ectt-1200">&#x003C;usesdevicedependencies&#x003E;</span>
      section allocates the Properties to the Device. If you want to change the station to
      which the Device is tuning, change the <span 
class="ectt-1200">center_frequency </span>value to the desired
      frequency.
      <script type="syntaxhighlighter" class="brush: xml"><![CDATA[
        <usesdevice id="DCE:9d74e617-d041-48e3-8063-ae276ba2187d" type="usesRtl">
        <propertyref refid="DCE:cdc5ee18-7ceb-4ae6-bf4c-31f983179b4d" value="FRONTEND::TUNER"/>
        <propertyref refid="DCE:0f99b2e4-9903-4631-9846-ff349d18ecfb" value="USB"/>
        <structref refid="FRONTEND::tuner_allocation">
         <simpleref refid="FRONTEND::tuner_allocation::tuner_type" value="RX_DIGITIZER"/>
         <simpleref refid="FRONTEND::tuner_allocation::allocation_id" value="RTL_RBDS"/>
         <simpleref refid="FRONTEND::tuner_allocation::center_frequency" value="95500000"/>
         <simpleref refid="FRONTEND::tuner_allocation::bandwidth" value="128000"/>
         <simpleref refid="FRONTEND::tuner_allocation::sample_rate" value="256000"/>
         <simpleref refid="FRONTEND::tuner_allocation::group_id" value=""/>
         <simpleref refid="FRONTEND::tuner_allocation::rf_flow_id" value=""/>
        </structref>
       </usesdevice>
      </usesdevicedependencies>
      ]]></script>
      </li>
      <li 
  class="enumerate" id="x7-34008x4">Save the changes to the <span 
class="ectt-1200">RBDS_wf.sad.xml </span>file.</li></ol>
                                                                                         
                                                                                         
<!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="mainch6.html" >next</a>] [<a 
href="mainch4.html" >prev</a>] [<a 
href="mainch4.html#tailmainch4.html" >prev-tail</a>] [<a 
href="mainch5.html" >front</a>] [<a 
href="main.html#mainch5.html" >up</a>] </p></div>
<!--l. 1--><p class="noindent" ><a 
 id="tailmainch5.html"></a>  
 
<div class=license>  
<hr> 
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" /></a><br /><span xmlns:dct="http:// purl.org/dc/terms/" property="dct:title">REDHAWK Documentation</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>. 
 
</div> 
</body></html> 
