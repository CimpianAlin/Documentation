<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>6 Waveforms</title> 
<meta http-equiv="Content-Type" content="text/html; charset="utf-8""> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,2,next,javascript,charset="utf-8" --> 
<meta name="src" content="main.tex"> 
<link rel="stylesheet" type="text/css" href="main.css"> 
<script type="text/javascript" src="scripts/shCore.js"></script> 
<script type="text/javascript" src="scripts/shBrushCpp.js"></script> 
<script type="text/javascript" src="scripts/shBrushJava.js"></script> 
<script type="text/javascript" src="scripts/shBrushPython.js"></script> 
<script type="text/javascript" src="scripts/shBrushBash.js"></script> 
<script type="text/javascript" src="scripts/shBrushXml.js"></script> 
<link href="styles/shCore.css" rel="stylesheet" type="text/css" /> 
<link href="styles/shThemeDefault.css" rel="stylesheet" type="text/css" /> 
<script type="text/javascript"> 
SyntaxHighlighter.all() 
</script> 
 </head><body 
>
<link rel="icon" type="image/png" href="images/RedHawk_Logo16x.gif"> 
<script> 
function f() {  
document.getElementById('main_content_wrap').focus(); 
} 
if (window.addEventListener) { 
window.addEventListener("load", f, false); 
} else if (window.attachEvent) { 
window.attachEvent("onload", f); 
} 
</script> 
<div class="header"> 
<ul class="navbar"> 
<li><a class="logo-small" href="index.html"><img src="images/RedHawk_Logo_ALT_B_121px.png"/></a></li> <li><a href="index.html">Home</a></li> 
<li><a class="active" href="documentation.html">Documentation</a></li> 
<li><a href="download.html">Download</a></li> 
<li><a href="community.html">Community</a></li> 
</ul> 
<div class="pattern right"></div> 
<a id="forkme_banner" href="https://github.com/redhawksdr">View on GitHub</a> 
<noscript><div class ="NoScript">WARNING: JAVASCRIPT is not enabled. JAVASCRIPT is required for viewing code snippets.</div></noscript> 
</div> 
<!-- Custom MAIN CONTENT --> 
<div id="main_content_wrap" tabindex="0" class="outer"> 
<section id="main_content" class="inner"> 
<!--l. 2--><div class="crosslinks"><p class="noindent">[<a 
href="mainch7.html" >next</a>] [<a 
href="mainch5.html" >prev</a>] [<a 
href="mainch5.html#tailmainch5.html" >prev-tail</a>] [<a 
href="#tailmainch6.html">tail</a>] [<a 
href="main.html#mainch6.html" >up</a>] </p></div>
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;6</span><br /><a 
 id="x8-1510006"></a>Waveforms</h2>
<!--l. 4--><p class="noindent" >This chapter discusses the construction and execution of <a 
href="mainli2.html#glo:waveformapplication">Waveforms</a> within REDHAWK. An
<a 
href="mainli2.html#glo:application">Application</a> is the software object that represents a <a 
href="mainli2.html#glo:waveformapplication">Waveform</a>, which is a collection of
<a 
href="mainap9.html#xml">XML</a> files describing the inter connection of and configuration of <a 
href="mainli2.html#glo:component">Components</a>. It is
possible to launch <a 
href="mainli2.html#glo:waveformapplication">Waveforms</a> in the <a 
href="mainli2.html#glo:Sandbox">Sandbox</a> as well as in the REDHAWK <a 
href="mainli2.html#glo:domain">Domain</a>. This
chapter discusses the mechanisms for launching a <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> as a running <a 
href="mainli2.html#glo:application">Application</a> in a
<a 
href="mainli2.html#glo:domain">Domain</a>.
<!--l. 9--><p class="noindent" ><div class="admonition block note block-indent"><div class="note-inner"><p class="para block block-first"> To complete the procedures in this chapter, the <span 
class="ectt-1200">SigGen </span>and <span 
class="ectt-1200">HardLimit </span><a 
href="mainli2.html#glo:component">Components</a> must be
installed in <span 
class="ectt-1200">$SDRROOT/dom/components</span>. </p></div></div>
<h3 class="sectionHead"><span class="titlemark">6.1   </span> <a 
 id="x8-1520006.1"></a>Waveform Editor</h3>
<!--l. 15--><p class="noindent" >The following sections further describe the definition of the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> as well as its creation and
manipulation within the <a 
href="mainap9.html#ide">IDE</a>. Like the <a 
href="mainap9.html#prf">PRF</a>, <a 
href="mainap9.html#scd">SCD</a>, and <a 
href="mainap9.html#spd">SPD</a> <a 
href="mainap9.html#xml">XML</a> files of a <a 
href="mainli2.html#glo:component">Component</a>, a
<a 
href="mainli2.html#glo:waveformapplication">Waveform</a> is completely represented by its Software Assembly Descriptor (<a 
href="mainap9.html#sad">SAD</a>) file (<span 
class="ectt-1200">*.sad.xml</span>).
The REDHAWK <a 
href="mainap9.html#ide">IDE</a> provides a means of modifying the <a 
href="mainap9.html#xml">XML</a> files without the need to directly
edit this file by hand.
<!--l. 18--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">6.1.1   </span> <a 
 id="x8-1530006.1.1"></a>Overview Tab</h4>
<!--l. 20--><p class="noindent" >Within the Overview tab, the name, <a 
href="mainli2.html#glo:assemblycontroller">Assembly Controller</a>, and external <a 
href="mainli2.html#glo:port">Ports</a> of a <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> are
defined.
<!--l. 22--><p class="noindent" >The <a 
href="mainli2.html#glo:assemblycontroller">Assembly Controller</a> is a <a 
href="mainli2.html#glo:component">Component</a> instance in the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> that is designated as the
<a 
href="mainli2.html#glo:component">Component</a> where the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a>-level <span 
class="ectt-1200">start()</span>, <span 
class="ectt-1200">stop()</span>, <span 
class="ectt-1200">configure()</span>, and <span 
class="ectt-1200">query() </span>calls are
delegated. In complex <a 
href="mainli2.html#glo:waveformapplication">Waveforms</a>, the <a 
href="mainli2.html#glo:assemblycontroller">Assembly Controller</a> can be used to orchestrate the life cycle
of <a 
href="mainli2.html#glo:component">Components</a>. In trivial <a 
href="mainli2.html#glo:waveformapplication">Waveforms</a>, the identity of the <a 
href="mainli2.html#glo:assemblycontroller">Assembly Controller</a> is of less
importance.
<!--l. 25--><p class="noindent" >External <a 
href="mainli2.html#glo:port">Ports</a> are used to make <a 
href="mainli2.html#glo:component">Component</a> <a 
href="mainli2.html#glo:port">Ports</a> available to other <a 
href="mainli2.html#glo:application">Applications</a>, facilitating
inter-<a 
href="mainli2.html#glo:application">Application</a> connectivity.
<!--l. 28--><p class="noindent" >Developers use the Overview tab to set the <a 
href="mainli2.html#glo:assemblycontroller">Assembly Controller</a> for the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> and describe the
<a 
href="mainli2.html#glo:waveformapplication">Waveform</a>.
<!--l. 30--><p class="noindent" >The following steps explain how to set the <a 
href="mainli2.html#glo:assemblycontroller">Assembly Controller</a> and describe the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a>.
                                                                                         
                                                                                         
<!--l. 32--><p class="noindent" >
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x8-153002x1">On the Overview tab of the Waveform, from the <span 
class="ecbx-1200">Controller </span>drop-down menu, ensure
      <span 
class="ectt-1200">SigGen_1 </span>is selected.
      </li>
      <li 
  class="enumerate" id="x8-153004x2">In the <span 
class="ecbx-1200">Description </span>field, enter a description for the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a>.</li></ol>
<!--l. 37--><p class="noindent" ><hr class="figure"><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
>
                                                                                         
                                                                                         
<a 
 id="x8-153005r1"></a>
                                                                                         
                                                                                         
<!--l. 40--><p class="noindent" ><img 
src="images/REDHAWK_Waveform_Overview_Tab.png" alt="PIC"  
>
<br /> <table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;6.1: </td><td  
class="content">Waveform Overview Tab</td></tr></table><!--tex4ht:label?: x8-153005r1 -->
                                                                                         
                                                                                         
<!--l. 42--><p class="noindent" ></td></tr></table></div><hr class="endfigure">
<h4 class="subsectionHead"><span class="titlemark">6.1.2   </span> <a 
 id="x8-1540006.1.2"></a>Diagram Tab</h4>
<!--l. 46--><p class="noindent" >Most of the work done on <a 
href="mainli2.html#glo:waveformapplication">Waveforms</a> takes place within the Diagram tab. The Diagram tab is very
similar to the <a 
href="mainli2.html#glo:Sandbox">Sandbox</a>/Chalkboard. Unlike the <a 
href="mainli2.html#glo:Sandbox">Sandbox</a>, only <a 
href="mainli2.html#glo:component">Components</a> that exist
within the <span 
class="ectt-1200">$SDRROOT </span>can be added to the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a>. The Palette contains a list of
<a 
href="mainli2.html#glo:component">Components</a> residing within the <span 
class="ectt-1200">$SDRROOT</span>. From the Diagram tab, external <a 
href="mainli2.html#glo:port">Ports</a> of the
<a 
href="mainli2.html#glo:waveformapplication">Waveform</a> can be indicated and the role of <a 
href="mainli2.html#glo:assemblycontroller">Assembly Controller</a> can be assigned to a
<a 
href="mainli2.html#glo:component">Component</a>.
<!--l. 52--><p class="noindent" >From the Diagram tab, <a 
href="mainli2.html#glo:property">Properties</a> of <a 
href="mainli2.html#glo:component">Components</a> can be set. When these <a 
href="mainli2.html#glo:property">Properties</a> are set, they
become specific to the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> and are written to the <span 
class="ectt-1200">*.sad.xml </span>file, which describes this
<a 
href="mainli2.html#glo:waveformapplication">Waveform</a>.
<!--l. 55--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">6.1.2.1   </span> <a 
 id="x8-1550006.1.2.1"></a>Start Order</h5>
<!--l. 57--><p class="noindent" >Each of the <a 
href="mainli2.html#glo:component">Components</a> within the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> contain a number with a circle around it which
represents that <a 
href="mainli2.html#glo:component">Component</a>&#8217;s start order. The start order represents the order in which its <span 
class="ectt-1200">start()</span>
method is called by the <a 
href="mainli2.html#glo:assemblycontroller">Assembly Controller</a>. The only <a 
href="mainli2.html#glo:component">Component</a> that does not have a start
order is the <a 
href="mainli2.html#glo:assemblycontroller">Assembly Controller</a>, which always has an assumed start order of 0. The
<a 
href="mainli2.html#glo:assemblycontroller">Assembly Controller</a> has a yellow circle containing 0. The start order may be changed by
right-clicking a <a 
href="mainli2.html#glo:component">Component</a> and selecting <span 
class="ecbx-1200">Move Start Order Earlier </span>or <span 
class="ecbx-1200">Move Start</span>
<span 
class="ecbx-1200">Order Later </span>from the context menu. The <a 
href="mainli2.html#glo:assemblycontroller">Assembly Controller</a> may be changed by
right-clicking a <a 
href="mainli2.html#glo:component">Component</a> and selecting <span 
class="ecbx-1200">Set As </span><a 
href="mainli2.html#glo:assemblycontroller"><span 
class="ecbx-1200">Assembly Controller</span></a> from the context
menu.
<!--l. 63--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">6.1.3   </span> <a 
 id="x8-1560006.1.3"></a>SAD File Tab</h4>
<!--l. 65--><p class="noindent" >The information put into the Overview and Diagram tabs is represented within the <a 
href="mainap9.html#xml">XML</a> of the
<a 
href="mainap9.html#sad">SAD</a> file. The <a 
href="mainap9.html#xml">XML</a> can be edited manually, but it is not recommended. Each of the <a 
href="mainli2.html#glo:component">Components</a>
used within the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> are referenced within the <a 
href="mainap9.html#sad">SAD</a> file by pointing to the file location of the
<a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainap9.html#spd">SPD</a> file.
<!--l. 69--><p class="noindent" >Instructions for inspecting the <a 
href="mainap9.html#sad">SAD</a> file are below:
<!--l. 71--><p class="noindent" >
                                                                                         
                                                                                         
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x8-156002x1">Open the <span 
class="ectt-1200">myWaveform.sad.xml </span>tab of the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> Editor.
      </li>
      <li 
  class="enumerate" id="x8-156004x2">Look through the <a 
href="mainap9.html#sad">SAD</a> file and identify:
           <ol  class="enumerate2" >
           <li 
  class="enumerate" id="x8-156006x1">The location of the two <a 
href="mainap9.html#spd">SPD</a> files used in this <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> (remember that this file
           location is in reference to the <span 
class="ectt-1200">$SDRROOT</span>)
           </li>
           <li 
  class="enumerate" id="x8-156008x2">The <a 
href="mainli2.html#glo:assemblycontroller">Assembly Controller</a>
           </li>
           <li 
  class="enumerate" id="x8-156010x3">The connection between the two <a 
href="mainli2.html#glo:component">Components</a>
           </li>
           <li 
  class="enumerate" id="x8-156012x4">The external <a 
href="mainli2.html#glo:port">Port</a> is set in the Diagram Tab
           </li>
           <li 
  class="enumerate" id="x8-156014x5">The start order of each <a 
href="mainli2.html#glo:component">Component</a>
           </li>
           <li 
  class="enumerate" id="x8-156016x6">The <a 
href="mainli2.html#glo:property">Property</a> is changed on the <span 
class="ectt-1200">SigGen </span><a 
href="mainli2.html#glo:component">Component</a></li></ol>
      </li>
      <li 
  class="enumerate" id="x8-156018x3">Before continuing, return to the Diagram tab and change the <span 
class="ecbx-1200">dataDouble_out </span><a 
href="mainli2.html#glo:port">Port</a> so that
      it is no longer marked as an external <a 
href="mainli2.html#glo:port">Port</a>.</li></ol>
<!--l. 85--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">6.2   </span> <a 
 id="x8-1570006.2"></a>Create and Deploy a Sample Waveform</h3>
<!--l. 87--><p class="noindent" >This section describes the process of creating a <a 
href="mainli2.html#glo:waveformapplication">Waveform</a>, deploying this <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> to the staging
area, starting a <a 
href="mainli2.html#glo:domainmanager">Domain Manager</a> and a <a 
href="mainli2.html#glo:devicemanager">Device Manager</a>, creating an instance of an <a 
href="mainli2.html#glo:application">Application</a>
representing this <a 
href="mainli2.html#glo:waveformapplication">Waveform</a>, releasing the <a 
href="mainli2.html#glo:application">Application</a>, and shutting down the <a 
href="mainli2.html#glo:domainmanager">Domain Manager</a>
and <a 
href="mainli2.html#glo:devicemanager">Device Manager</a>.
<!--l. 89--><p class="noindent" >The <a 
href="mainli2.html#glo:domainmanager">Domain Manager</a> and <a 
href="mainli2.html#glo:devicemanager">Device Manager</a> normally remain running during the creation/destruction
of different <a 
href="mainli2.html#glo:application">Applications</a>.
<!--l. 91--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">6.2.1   </span> <a 
 id="x8-1580006.2.1"></a>Create a Sample Waveform</h4>
                                                                                         
                                                                                         
<!--l. 93--><p class="noindent" >Below is a description of how to create a <a 
href="mainli2.html#glo:waveformapplication">Waveform</a>:
<!--l. 95--><p class="noindent" >
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x8-158002x1">Select <span 
class="ecbx-1200">File </span><span 
class="cmmi-12">&#x003E; </span><span 
class="ecbx-1200">New </span><span 
class="cmmi-12">&#x003E; </span><span 
class="ecbx-1200">REDHAWK </span><a 
href="mainli2.html#glo:waveformapplication"><span 
class="ecbx-1200">Waveform</span></a> <span 
class="ecbx-1200">Project</span>
      </li>
      <li 
  class="enumerate" id="x8-158004x2">Set the <span 
class="ecbx-1200">Project name </span>to <span 
class="ecti-1200">demo</span>
      </li>
      <li 
  class="enumerate" id="x8-158006x3">Select <span 
class="ecbx-1200">Finish</span></li></ol>
<!--l. 101--><p class="noindent" >This opens an editor on the demo.sad.xml file.
<!--l. 103--><p class="noindent" >To add <a 
href="mainli2.html#glo:component">Components</a> to this <a 
href="mainli2.html#glo:waveformapplication">Waveform</a>:
<!--l. 105--><p class="noindent" >
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x8-158008x1">Select the <span 
class="ecbx-1200">Diagram </span>tab
      </li>
      <li 
  class="enumerate" id="x8-158010x2">In the <span 
class="ecbx-1200">Palette</span>, drag the <span 
class="ectt-1200">SigGen </span><a 
href="mainli2.html#glo:component">Component</a> onto the diagram
      </li>
      <li 
  class="enumerate" id="x8-158012x3">In the <span 
class="ecbx-1200">Palette</span>, drag the <span 
class="ectt-1200">HardLimit </span><a 
href="mainli2.html#glo:component">Component</a> onto the diagram
      </li>
      <li 
  class="enumerate" id="x8-158014x4">Drag a connection between the <span 
class="ectt-1200">SigGen_1 </span><span 
class="ecbx-1200">dataFloat_out </span><a 
href="mainli2.html#glo:port">Port</a> and the <span 
class="ectt-1200">HardLimit_1</span>
      <span 
class="ecbx-1200">dataFloat_in </span><a 
href="mainli2.html#glo:port">Port</a>
      </li>
      <li 
  class="enumerate" id="x8-158016x5">The <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> looks like <a 
href="#x8-158017r2">Figure 6.2</a>: <hr class="figure"><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
><a 
 id="x8-158017r2"></a> <img 
src="images/Demo_waveform.png" alt="PIC"  
>
<br /> <table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;6.2: </td><td  
class="content">Demo Waveform</td></tr></table><!--tex4ht:label?: x8-158017r2 -->
      <!--l. 116--><p class="noindent" ></td></tr></table></div><hr class="endfigure">
      </li>
      <li 
  class="enumerate" id="x8-158019x6">If <span 
class="ectt-1200">SigGen_1 </span>does not have a yellow 0, right-click the <a 
href="mainli2.html#glo:component">Component</a> and select <span 
class="ecbx-1200">Set As</span>
      <a 
href="mainli2.html#glo:assemblycontroller"><span 
class="ecbx-1200">Assembly Controller</span></a>
      </li>
      <li 
  class="enumerate" id="x8-158021x7">Press Ctrl+S to save or select <span 
class="ecbx-1200">File </span><span 
class="cmmi-12">&#x003E; </span><span 
class="ecbx-1200">Save</span>
      </li>
      <li 
  class="enumerate" id="x8-158023x8">Close the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> editor by selecting the <span 
class="ecbx-1200">X </span>or by selecting <span 
class="ecbx-1200">File </span><span 
class="cmmi-12">&#x003E; </span><span 
class="ecbx-1200">Close All</span></li></ol>
                                                                                         
                                                                                         
<!--l. 122--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">6.2.2   </span> <a 
 id="x8-1590006.2.2"></a>Export the Waveform</h4>
<!--l. 124--><p class="noindent" >Below is a description of how to export the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> in the <a 
href="mainap9.html#ide">IDE</a>:
<!--l. 126--><p class="noindent" >
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x8-159002x1">In the <a 
href="mainli2.html#glo:Project Explorer View"><span 
class="ecbx-1200">Project Explorer View</span></a> (typically on the left-side) select <span 
class="ecti-1200">demo</span>
      </li>
      <li 
  class="enumerate" id="x8-159004x2">Drag the <span 
class="ecti-1200">demo </span>project onto the <a 
href="mainli2.html#glo:targetSDR"><span 
class="ecbx-1200">Target SDR</span></a> in the <a 
href="mainli2.html#glo:REDHAWK Explorer View"><span 
class="ecbx-1200">REDHAWK Explorer View</span></a>.</li></ol>
<!--l. 131--><p class="noindent" >This installs the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> into <span 
class="ectt-1200">$SDRROOT/dom/waveforms</span>. If a permissions denied error is
encountered, ensure that the <span 
class="ectt-1200">$SDRROOT </span>is set up per the installation instructions in <a 
href="mainap2.html#x21-424000B.1.2">Section
B.1.2</a>.
<!--l. 135--><p class="noindent" >Verify that the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> is installed:
<!--l. 137--><p class="noindent" >
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x8-159006x1">In the <a 
href="mainli2.html#glo:REDHAWK Explorer View"><span 
class="ecbx-1200">REDHAWK Explorer View</span></a> expand <a 
href="mainli2.html#glo:targetSDR"><span 
class="ecbx-1200">Target SDR</span></a>.
      </li>
      <li 
  class="enumerate" id="x8-159008x2">Expand <a 
href="mainli2.html#glo:waveformapplication"><span 
class="ecbx-1200">Waveforms</span></a>.
      </li>
      <li 
  class="enumerate" id="x8-159010x3">Verify that the <span 
class="ecti-1200">demo </span><a 
href="mainli2.html#glo:waveformapplication">Waveform</a> is shown.</li></ol>
<!--l. 143--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">6.2.3   </span> <a 
 id="x8-1600006.2.3"></a>Run the Waveform on the Runtime Environment</h4>
<!--l. 145--><p class="noindent" >This section provides an overview of how to launch a <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> as an <a 
href="mainli2.html#glo:application">Application</a> and release an
<a 
href="mainli2.html#glo:application">Application</a>.
<!--l. 147--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">6.2.3.1   </span> <a 
 id="x8-1610006.2.3.1"></a>Launching a Domain</h5>
<!--l. 149--><p class="noindent" >Begin by starting a <a 
href="mainli2.html#glo:domainmanager">Domain Manager</a> and <a 
href="mainli2.html#glo:devicemanager">Device Manager</a> (<a 
href="mainch11.html#x13-25800011.1.1">Section 11.1.1</a>).
                                                                                         
                                                                                         
<!--l. 152--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">6.2.3.2   </span> <a 
 id="x8-1620006.2.3.2"></a>Launch the Waveform</h5>
<!--l. 154--><p class="noindent" >
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x8-162002x1">In the <a 
href="mainli2.html#glo:REDHAWK Explorer View"><span 
class="ecbx-1200">REDHAWK Explorer View</span></a> right-click the <span 
class="ecbx-1200">REDHAWK_DEV </span><a 
href="mainli2.html#glo:domain">Domain</a>
      connection.
      </li>
      <li 
  class="enumerate" id="x8-162004x2">Select <span 
class="ecbx-1200">Launch Waveform...</span>
      </li>
      <li 
  class="enumerate" id="x8-162006x3">Select the <span 
class="ecti-1200">demo </span><a 
href="mainli2.html#glo:waveformapplication">Waveform</a>, then select <span 
class="ecbx-1200">Finish</span>.
      </li>
      <li 
  class="enumerate" id="x8-162008x4">To start the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a>, select the <span 
class="ecbx-1200">Start Waveform </span>(green triangle) button in the
      toolbar.</li></ol>
<!--l. 161--><p class="noindent" >This opens the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> explorer. A <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> is displayed in the <a 
href="mainli2.html#glo:REDHAWK Explorer"><span 
class="ecbx-1200">REDHAWK Explorer</span></a> by
expanding the <span 
class="ecbx-1200">REDHAWK_DEV </span><a 
href="mainli2.html#glo:domain">Domain</a> connection and the <a 
href="mainli2.html#glo:waveformapplication"><span 
class="ecbx-1200">Waveforms</span></a> folder.
<!--l. 164--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">6.2.3.3   </span> <a 
 id="x8-1630006.2.3.3"></a>Open a Plot</h5>
<!--l. 165--><p class="noindent" >
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x8-163002x1">Left-click the <span 
class="ecbx-1200">dataFloat_out </span><a 
href="mainli2.html#glo:port">Port</a> to select it.
      </li>
      <li 
  class="enumerate" id="x8-163004x2">Right-click the <a 
href="mainli2.html#glo:port">Port</a> to open the <a 
href="mainli2.html#glo:port">Port</a> context menu.
      </li>
      <li 
  class="enumerate" id="x8-163006x3">Select <span 
class="ecbx-1200">Plot </span><a 
href="mainli2.html#glo:port"><span 
class="ecbx-1200">Port</span></a> <span 
class="ecbx-1200">Data</span>. This opens a plot showing the plot data.
      </li>
      <li 
  class="enumerate" id="x8-163008x4">To clearly view the sinusoid wave in the plot, reduce the frequency produced by <span 
class="ectt-1200">SigGen</span>.
      </li>
      <li 
  class="enumerate" id="x8-163010x5">Open the <a 
href="mainli2.html#glo:property"><span 
class="ecbx-1200">Properties</span></a> View and change the frequency <a 
href="mainli2.html#glo:property">Property</a> to a value of <span 
class="ecti-1200">50</span>.</li></ol>
                                                                                         
                                                                                         
<!--l. 174--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">6.2.3.4   </span> <a 
 id="x8-1640006.2.3.4"></a>Stop and Release the Application</h5>
<!--l. 176--><p class="noindent" >
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x8-164002x1">Select  the  <span 
class="ecbx-1200">Stop  Waveform </span>(red  square)  button  in  the  toolbar.  The  plot  stops
      updating.
      </li>
      <li 
  class="enumerate" id="x8-164004x2">Select the <span 
class="ecbx-1200">Release Waveform </span>(red <span 
class="ecbx-1200">X</span>) button in the toolbar. The <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> explorer
      closes.</li></ol>
<!--l. 181--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">6.2.3.5   </span> <a 
 id="x8-1650006.2.3.5"></a>Shutdown the Domain</h5>
<!--l. 183--><p class="noindent" >Finally, shutdown the <a 
href="mainli2.html#glo:domainmanager">Domain Manager</a> and <a 
href="mainli2.html#glo:devicemanager">Device Manager</a> (<a 
href="mainch11.html#x13-25900011.1.2">Section 11.1.2</a>).
<!--l. 185--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">6.3   </span> <a 
 id="x8-1660006.3"></a>Waveform Deployment and Computing Resources</h3>
<!--l. 187--><p class="noindent" ><a 
href="mainli2.html#glo:component">Components</a> are processes that run on a computer. As such, each <a 
href="mainli2.html#glo:component">Component</a> takes up some
arbitrary, often time-varying amount of spare capacity (for example, cpu computing load, memory,
network I/O). REDHAWK manages computing resources on every computer under its <a 
href="mainli2.html#glo:domain">Domain</a> to
minimize the likelihood that computing resources are over-subscribed. Each computer under
REDHAWK&#8217;s <a 
href="mainli2.html#glo:domain">Domain</a> is managed through the <a 
href="mainli2.html#glo:gpp">GPP</a> process.
<!--l. 192--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">6.3.1   </span> <a 
 id="x8-1670006.3.1"></a>GPP Device</h4>
<!--l. 194--><p class="noindent" >The <a 
href="mainli2.html#glo:gpp">GPP</a> <a 
href="mainli2.html#glo:device">Device</a> is a specialized REDHAWK <a 
href="mainli2.html#glo:device">Device</a> that manages the deployment
of <a 
href="mainli2.html#glo:component">Components</a> onto the computer and can be inspected like any other REDHAWK
<a 
href="mainli2.html#glo:device">Device</a>.
<!--l. 196--><p class="noindent" ><a 
href="mainli2.html#glo:gpp">GPP</a> can be in three possible usage states: <span 
class="ectt-1200">IDLE</span>, <span 
class="ectt-1200">ACTIVE</span>, or <span 
class="ectt-1200">BUSY</span>.
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">IDLE </span>indicates the <a 
href="mainli2.html#glo:gpp">GPP</a> is not running any REDHAWK <a 
href="mainli2.html#glo:component">Components</a>.
                                                                                         
                                                                                         
      </li>
      <li class="itemize"><span 
class="ectt-1200">ACTIVE </span>indicates the <a 
href="mainli2.html#glo:gpp">GPP</a> is running at least one <a 
href="mainli2.html#glo:component">Component</a>, but has spare capacity
      to run additonal <a 
href="mainli2.html#glo:component">Components</a>.
      </li>
      <li class="itemize"><span 
class="ectt-1200">BUSY </span>indicates the <a 
href="mainli2.html#glo:gpp">GPP</a> does not have any spare capacity to run additonal <a 
href="mainli2.html#glo:component">Components</a>.</li></ul>
<!--l. 202--><p class="noindent" >The usage state of any <a 
href="mainli2.html#glo:device">Device</a> can be accessed through its <span 
class="ectt-1200">usageState </span>member. To inspect the
usage state:
      <ul class="itemize1">
      <li class="itemize">In the IDE, select the &#8220;Advanced&#8221; tab of the &#8220;Properties&#8221; tab for the deployed <a 
href="mainli2.html#glo:device">Device</a>.
      </li>
      <li class="itemize">In a Python session, run the following script (assuming a <a 
href="mainli2.html#glo:domain">Domain</a> is running):
      <div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
  &gt;&gt;> from ossie.utils import redhawk
 &gt;&gt;> dom=redhawk.attach()
 &gt;&gt;> dev = dom.devMgrs[0].devs[0]
 &gt;&gt;> print dev._get_usageState()
]]></script></div>
      </li></ul>
<!--l. 217--><p class="noindent" >The <a 
href="mainli2.html#glo:gpp">GPP</a> contains several <a 
href="mainli2.html#glo:property">Properties</a> that are critical for the deployment of <a 
href="mainli2.html#glo:component">Components</a> to a
<a 
href="mainli2.html#glo:device">Device</a>. When a <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> is deployed, the framework scans through all <span 
class="ectt-1200">IDLE </span>and <span 
class="ectt-1200">ACTIVE </span><a 
href="mainli2.html#glo:gpp">GPP</a>
<a 
href="mainli2.html#glo:device">Devices</a>. The <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <span 
class="ectt-1200">os </span>and/or <span 
class="ectt-1200">processor </span>elements from its spd file are compared against
the <a 
href="mainli2.html#glo:gpp">GPP</a>&#8217;s <span 
class="ectt-1200">os_name </span>and/or <span 
class="ectt-1200">processor_name </span><a 
href="mainli2.html#glo:property">Properties</a>, respectively. If there is a match, the
<a 
href="mainli2.html#glo:component">Component</a> is assigned to that <a 
href="mainli2.html#glo:gpp">GPP</a>. This search/assignment is performed for all <a 
href="mainli2.html#glo:component">Components</a> in
the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a>. Once all <a 
href="mainli2.html#glo:component">Components</a> have been assigned to specific <a 
href="mainli2.html#glo:gpp">GPPs</a>, the deployment process
begins.
<!--l. 223--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">6.3.1.1   </span> <a 
 id="x8-1680006.3.1.1"></a>Deployment Process</h5>
<!--l. 225--><p class="noindent" >The deployment of a <a 
href="mainli2.html#glo:component">Component</a> to a <a 
href="mainli2.html#glo:gpp">GPP</a> begins by copying all relevant files from <span 
class="ectt-1200">$SDRROOT/dom</span>
<span 
class="ectt-1200">/components/&#x003C;component&#x003E;/ </span>to the <a 
href="mainli2.html#glo:gpp">GPP</a>&#8217;s cache. The <a 
href="mainli2.html#glo:gpp">GPP</a> cache is a temporary directory on the
computer used to run each <a 
href="mainli2.html#glo:component">Component</a> (recall that REDHAWK is designed to support distributed
processing). The cache is located in the local computer&#8217;s <span 
class="ectt-1200">$SDRROOT/dev/.&#x003C;Device Manager</span>
<span 
class="ectt-1200">name&#x003E;/&#x003C;Device Name&#x003E;</span>. Note that the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s working directory is the <a 
href="mainli2.html#glo:gpp">GPP</a>&#8217;s cache
directory.
                                                                                         
                                                                                         
<!--l. 230--><p class="noindent" >After all files are copied, the <a 
href="mainli2.html#glo:component">Component</a> is started in its own process space using the <span 
class="ectt-1200">fork </span>system
call. At program startup, the <a 
href="mainli2.html#glo:component">Component</a> registers with the <a 
href="mainli2.html#glo:domainmanager">Domain Manager</a> and the initial
<a 
href="mainli2.html#glo:property">Property</a> state is applied to the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:property">Property</a> values. Next, connections are created as
defined in the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> file. The <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> is successfully deployed when all <a 
href="mainli2.html#glo:waveformapplication">Waveform</a>
<a 
href="mainli2.html#glo:component">Components</a> are registered with the <a 
href="mainli2.html#glo:domainmanager">Domain Manager</a> and all <a 
href="mainli2.html#glo:component">Component</a> initialization is
complete.
<!--l. 234--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">6.3.1.2   </span> <a 
 id="x8-1690006.3.1.2"></a>Using Valgrind to Debug Components</h5>
<!--l. 236--><p class="noindent" >The <a 
href="mainli2.html#glo:gpp">GPP</a> supports launching <a 
href="mainli2.html#glo:component">Components</a> using Valgrind, an open source tool that helps detect
memory errors and leaks.
<!--l. 238--><p class="noindent" >The <span 
class="ectt-1200">VALGRIND </span>environment variable controls this behavior:
      <ul class="itemize1">
      <li class="itemize">If <span 
class="ectt-1200">VALGRIND </span>is not set, <a 
href="mainli2.html#glo:component">Components</a> launch as usual.
      </li>
      <li class="itemize">If <span 
class="ectt-1200">VALGRIND </span>is set but has no value, the <a 
href="mainli2.html#glo:gpp">GPP</a> searches the path for <span 
class="ectt-1200">valgrind</span>.
      </li>
      <li class="itemize">If <span 
class="ectt-1200">VALGRIND </span>has a value, it is assumed to be the full path to the <span 
class="ectt-1200">valgrind </span>executable.</li></ul>
<!--l. 245--><p class="noindent" >Valgrind log files are written to the same directory as the <a 
href="mainli2.html#glo:component">Component</a> entry point within
the <a 
href="mainli2.html#glo:gpp">GPP</a>&#8217;s cache. For example, if the <a 
href="mainli2.html#glo:component">Component</a>, <span 
class="ectt-1200">MyComponent</span>, has an entry point of
<span 
class="ectt-1200">cpp/MyComponent</span>, the logs are written to <span 
class="ectt-1200">MyComponent/cpp</span>. The log file name follows the pattern
<span 
class="ectt-1200">valgrind.&#x003C;PID&#x003E;.log</span>, where PID is the process ID of the <a 
href="mainli2.html#glo:component">Component</a>.
<!--l. 249--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">6.3.2   </span> <a 
 id="x8-1700006.3.2"></a>Monitoring Computing Resources</h4>
<!--l. 251--><p class="noindent" >The <a 
href="mainli2.html#glo:gpp">GPP</a> monitors the following resources:
      <ul class="itemize1">
      <li class="itemize">System:  cpu  utilization,  memory  usage,  <a 
href="mainli2.html#glo:nic">NIC</a>  usage,  total  number  of  threads,  and
      number of open files
      </li>
      <li class="itemize">For each <a 
href="mainli2.html#glo:component">Component</a>: cpu usage, memory usage, and process state
                                                                                         
                                                                                         
      <!--l. 256--><p class="noindent" >When a <a 
href="mainli2.html#glo:component">Component</a> fails (for example, segfault), the <a 
href="mainli2.html#glo:gpp">GPP</a> issues a <br 
class="newline" /><span 
class="ectt-1200">AbnormalComponentTerminationEventType  </span>message   on   the   <span 
class="ectt-1200">IDM_Channel</span>.   The
      message contains the <a 
href="mainli2.html#glo:component">Component</a> id of the <a 
href="mainli2.html#glo:component">Component</a> that failed, the <a 
href="mainli2.html#glo:application">Application</a> id
      for the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:waveformapplication">Waveform</a>, and the <a 
href="mainli2.html#glo:device">Device</a> id for the <a 
href="mainli2.html#glo:gpp">GPP</a> that is running the
      <a 
href="mainli2.html#glo:component">Component</a>.</li></ul>
<!--l. 259--><p class="noindent" >The <a 
href="mainli2.html#glo:gpp">GPP</a> contains a <span 
class="ectt-1200">thresholds </span>structure with five elements. The following table describes the
elements of the <span 
class="ectt-1200">thresholds </span>structured <a 
href="mainli2.html#glo:property">Property</a>:
<div class="table">
                                                                                         
                                                                                         
<!--l. 274--><p class="noindent" ><a 
 id="x8-170001r1"></a><hr class="float"><div class="float" 
><table class="float"><tr class="float"><td class="float" 
>
                                                                                         
                                                                                         
<div class="tabular"> <table id="TBL-16" class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-16-1g"><col 
id="TBL-16-1"></colgroup><colgroup id="TBL-16-2g"><col 
id="TBL-16-2"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-16-1-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-16-1-1"  
class="td11"> <!--l. 277--><p class="noindent" ><span 
class="ecbx-1200">Element</span>             </td><td  style="white-space:wrap; text-align:left;" id="TBL-16-1-2"  
class="td11"> <!--l. 277--><p class="noindent" ><span 
class="ecbx-1200">Description</span>                                        </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-16-2-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-16-2-1"  
class="td11"> <!--l. 279--><p class="noindent" ><span 
class="ectt-1200">mem_free</span>          </td><td  style="white-space:wrap; text-align:left;" id="TBL-16-2-2"  
class="td11"> <!--l. 279--><p class="noindent" >Amount of free memory available that triggers
  a threshold condition (default units in MB).     </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-16-3-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-16-3-1"  
class="td11"> <!--l. 280--><p class="noindent" ><span 
class="ectt-1200">nic_usage</span>         </td><td  style="white-space:wrap; text-align:left;" id="TBL-16-3-2"  
class="td11"> <!--l. 280--><p class="noindent" >Amount of network capacity used by the NIC
  interface that triggers a threshold condition.     </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-16-4-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-16-4-1"  
class="td11"> <!--l. 281--><p class="noindent" ><span 
class="ectt-1200">threads</span>           </td><td  style="white-space:wrap; text-align:left;" id="TBL-16-4-2"  
class="td11"> <!--l. 281--><p class="noindent" >Percentage of threads available to the GPP that
  triggers a threshold condition.                        </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-16-5-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-16-5-1"  
class="td11"> <!--l. 282--><p class="noindent" ><span 
class="ectt-1200">files_available</span>   </td><td  style="white-space:wrap; text-align:left;" id="TBL-16-5-2"  
class="td11"> <!--l. 282--><p class="noindent" >Percentage of file handles remaining to the GPP
  that triggers a threshold condition.                 </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-16-6-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-16-6-1"  
class="td11"> <!--l. 283--><p class="noindent" ><span 
class="ectt-1200">cpu_idle</span>          </td><td  style="white-space:wrap; text-align:left;" id="TBL-16-6-2"  
class="td11"> <!--l. 283--><p class="noindent" >Amount of cpu idle percentage that triggers a
  threshold condition.                                     </td>
</tr></table></div>
<br /> <table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Table&#x00A0;6.1: </td><td  
class="content">Thresholds Structured Property</td></tr></table><!--tex4ht:label?: x8-170001r1 -->
                                                                                         
                                                                                         
</td></tr></table></div><hr class="endfloat" />
</div>
<!--l. 294--><p class="noindent" ><div class="admonition block note block-indent"><div class="note-inner"><p class="para block block-first"> If at any point any of these thresholds is exceeded (because of any process&#8217;s usage, not just those
forked by the <a 
href="mainli2.html#glo:gpp">GPP</a>), the <a 
href="mainli2.html#glo:gpp">GPP</a> usage state changes to <span 
class="ectt-1200">BUSY</span>. </p></div></div>
<!--l. 298--><p class="noindent" >The <a 
href="mainli2.html#glo:gpp">GPP</a> contains a <span 
class="ectt-1200">utilization </span>structured <a 
href="mainli2.html#glo:property">Property</a> that shows the overall system utilization at
any time. The following table describes the elements of the <span 
class="ectt-1200">utilization </span>structured
<a 
href="mainli2.html#glo:property">Property</a>.
<div class="table">
                                                                                         
                                                                                         
<!--l. 313--><p class="noindent" ><a 
 id="x8-170002r2"></a><hr class="float"><div class="float" 
><table class="float"><tr class="float"><td class="float" 
>
                                                                                         
                                                                                         
<div class="tabular"> <table id="TBL-17" class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-17-1g"><col 
id="TBL-17-1"></colgroup><colgroup id="TBL-17-2g"><col 
id="TBL-17-2"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-1-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-17-1-1"  
class="td11"> <!--l. 316--><p class="noindent" ><span 
class="ecbx-1200">Element</span>             </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-1-2"  
class="td11"> <!--l. 316--><p class="noindent" ><span 
class="ecbx-1200">Description</span>                                        </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-2-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-17-2-1"  
class="td11"> <!--l. 318--><p class="noindent" ><span 
class="ectt-1200">description</span>       </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-2-2"  
class="td11"> <!--l. 318--><p class="noindent" >Human-readable description of the content. In
  the  case  of  cpu  usage,  this  element&#8217;s  content
  is &#8220;CPU cores&#8221;. The numbers in this structure
  reflect  the  effective  number  of  cores  that  are
  being utilized.                                             </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-3-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-17-3-1"  
class="td11"> <!--l. 321--><p class="noindent" ><span 
class="ectt-1200">component_load</span>    </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-3-2"  
class="td11"> <!--l. 321--><p class="noindent" >Overall load by all the <a 
href="mainli2.html#glo:component">Components</a> that were
  forked by the <a 
href="mainli2.html#glo:gpp">GPP</a>.                                      </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-4-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-17-4-1"  
class="td11"> <!--l. 322--><p class="noindent" ><span 
class="ectt-1200">system_load</span>       </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-4-2"  
class="td11"> <!--l. 322--><p class="noindent" >Total load from every process, irrespective of
  whether or not it was forked by this <a 
href="mainli2.html#glo:gpp">GPP</a>.        </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-5-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-17-5-1"  
class="td11"> <!--l. 323--><p class="noindent" ><span 
class="ectt-1200">subscribed</span>        </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-5-2"  
class="td11"> <!--l. 323--><p class="noindent" >Sum of the total system load and however much
  is reserved. (Refer to <a 
href="#x8-1710006.3.3">Section 6.3.3</a>).                </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-17-6-"><td  style="white-space:nowrap; text-align:left; vertical-align:middle;" id="TBL-17-6-1"  
class="td11"> <!--l. 324--><p class="noindent" ><span 
class="ectt-1200">maximum</span>           </td><td  style="white-space:wrap; text-align:left;" id="TBL-17-6-2"  
class="td11"> <!--l. 324--><p class="noindent" >Maximum load that the <a 
href="mainli2.html#glo:gpp">GPP</a> will accept before
  switching to a BUSY state.                           </td>
</tr></table></div>
<br /> <table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Table&#x00A0;6.2: </td><td  
class="content">Utilzation Structured Property</td></tr></table><!--tex4ht:label?: x8-170002r2 -->
                                                                                         
                                                                                         
</td></tr></table></div><hr class="endfloat" />
</div>
<h4 class="subsectionHead"><span class="titlemark">6.3.3   </span> <a 
 id="x8-1710006.3.3"></a>Capacity Reservation</h4>
<!--l. 337--><p class="noindent" >A non-reservation strategy assumes that each process is running at full capacity at the time of
execution. This is clearly not the case when the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> is initially deployed because all of the
<a 
href="mainli2.html#glo:waveformapplication">Waveform</a>&#8217;s <a 
href="mainli2.html#glo:component">Components</a> are in a <span 
class="ectt-1200">stopped </span>state, thus taking little to no system resources.
Only after the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> is switched to a <span 
class="ectt-1200">started </span>state do the <a 
href="mainli2.html#glo:component">Components</a> begin to
consume system resources. Those system resources that are monitored for threshold
changes by the GPP will directly affect the Device&#8217;s <span 
class="ectt-1200">usageState</span>: <span 
class="ectt-1200">IDLE</span>, <span 
class="ectt-1200">ACTIVE</span>, or
<span 
class="ectt-1200">BUSY</span>.
<!--l. 339--><p class="noindent" >A non-reservation strategy with a deployment pattern where multiple <a 
href="mainli2.html#glo:waveformapplication">Waveforms</a> are launched
and not initially started but are delayed due to system events or predefined behavior,
can create an over-utilized system. For example, a system may initially create twenty
instances of a <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> and later, start them as a result of an aperiodic event. All
twenty <a 
href="mainli2.html#glo:waveformapplication">Waveforms</a> are created, but starting the 15th instance causes the CPU utilization
for the entire system to reach 100%. When the next five <a 
href="mainli2.html#glo:waveformapplication">Waveforms</a> are started, the
system will be over utilized, and all running <a 
href="mainli2.html#glo:component">Components</a> will be affected leading to
degraded system performance, such as data loss or lack of timely response to message
events.
<!--l. 341--><p class="noindent" >To mitigate this issue, the <a 
href="mainli2.html#glo:gpp">GPP</a> maintains a reservation-based strategy to properly forecast the
CPU load for each <a 
href="mainli2.html#glo:component">Component</a> it manages. During initial <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> deployment, the forecasted
load for each <a 
href="mainli2.html#glo:component">Component</a> of the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> is reserved against the current system&#8217;s available CPU
capacity. As <a 
href="mainli2.html#glo:component">Components</a> are moved to the <span 
class="ectt-1200">start </span>state, the forecasted load is tabled, and the
actual load or a minimum utilitization load (whichever is greater), is used for determining the
system load, and thus, the available CPU capacity. The available CPU capacity is one of the
system resources that will directly determine the system&#8217;s <span 
class="ectt-1200">usageState</span>, (i.e., <span 
class="ectt-1200">IDLE</span>, <span 
class="ectt-1200">ACTIVE</span>, or <span 
class="ectt-1200">BUSY</span>
). The GPP&#8217;s <span 
class="ectt-1200">utilization.subscribed </span><a 
href="mainli2.html#glo:property">Property</a> maintains the runtime value of the total
reservation for the system.
<!--l. 343--><p class="noindent" >The Property, <span 
class="ectt-1200">reserved_capacity_per_component</span>, is the default forecasted load for every
<a 
href="mainli2.html#glo:component">Component</a> deployed by the GPP. A finer resolution forecast load can be provided when the
<a 
href="mainli2.html#glo:waveformapplication">Waveform</a> is created. Currently, this is only available through the REDHAWK Python package
when the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> is created. The following example describes how to set the reserved forcasted
load for a <a 
href="mainli2.html#glo:component">Component</a>. In this example, the <a 
href="mainli2.html#glo:component">Component</a>, <span 
class="ectt-1200">my_comp_1</span>, on the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a>, <span 
class="ectt-1200">my_wave</span>,
has a reservation floor of <span 
class="ectt-1200">4 </span>cpu cores.
                                                                                         
                                                                                         
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
from ossie.utils import redhawk
from ossie.cf import CF
from omniORB import any, CORBA
dom=redhawk.attach()
dev = dom.devMgrs[0].devs[0]
extra_reservation = 4  # number of cores to reserve/utilize
_value=any.to_any(extra_reservation)
_value._t=CORBA.TC_double  # make sure that the number is packed as a double
app_1=dom.createApplication('/waveforms/my_wave/my_wave.sad.xml','my_wave',[CF.DataType(id='SPECIALIZED_CPU_RESERVATION',value=any.to_any([CF.DataType(id='my_comp_1',value=any.to_any(_value))]))])
print dev._get_usageState()  # view the reservation effect
]]></script></div>
                                                                                         
                                                                                         
<!--l. 2--><div class="crosslinks"><p class="noindent">[<a 
href="mainch7.html" >next</a>] [<a 
href="mainch5.html" >prev</a>] [<a 
href="mainch5.html#tailmainch5.html" >prev-tail</a>] [<a 
href="mainch6.html" >front</a>] [<a 
href="main.html#mainch6.html" >up</a>] </p></div>
<!--l. 2--><p class="noindent" ><a 
 id="tailmainch6.html"></a>   
 
<div class=license>  
<hr> 
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" /></a><br /><span xmlns:dct="http:// purl.org/dc/terms/" property="dct:title">REDHAWK Documentation</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>. 
 
</div></section></div> 
</body></html> 
