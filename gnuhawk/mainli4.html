<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Testing the GNUHAWK Installation</title> 
<meta http-equiv="Content-Type" content="text/html; charset="utf-8""> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,2,next,javascript,charset="utf-8" --> 
<meta name="src" content="main.tex"> 
<link rel="stylesheet" type="text/css" href="main.css"> 
<script type="text/javascript" src="scripts/shCore.js"></script> 
<script type="text/javascript" src="scripts/shBrushCpp.js"></script> 
<script type="text/javascript" src="scripts/shBrushJava.js"></script> 
<script type="text/javascript" src="scripts/shBrushPython.js"></script> 
<script type="text/javascript" src="scripts/shBrushBash.js"></script> 
<script type="text/javascript" src="scripts/shBrushXml.js"></script> 
<link href="styles/shCore.css" rel="stylesheet" type="text/css" /> 
<link href="styles/shThemeDefault.css" rel="stylesheet" type="text/css" /> 
<script type="text/javascript"> 
SyntaxHighlighter.all() 
</script> 
 </head><body 
>
<link rel="icon" type="image/png" href="images/RedHawk_Logo16x.gif"> 
<script> 
function f() {  
document.getElementById('main_content_wrap').focus(); 
} 
if (window.addEventListener) { 
window.addEventListener("load", f, false); 
} else if (window.attachEvent) { 
window.attachEvent("onload", f); 
} 
</script> 
<div class="header"> 
<ul class="navbar"> 
<li><a class="logo-small" href="index.html"><img src="images/RedHawk_Logo_ALT_B_121px.png"/></a></li> <li><a href="../index.html">Home</a></li> 
<li><a href="../gettingstarted/main.html">Getting Started</a></li> 
<li><a class="active" href="../main.html">Documentation</a></li> 
<li><a href="../download.html">Download</a></li> 
<li><a href="../community.html">Community</a></li> 
</ul> 
<div class="pattern right"></div> 
<a id="forkme_banner" href="https://github.com/redhawksdr">View on GitHub</a> 
<noscript><div class ="NoScript">WARNING: JAVASCRIPT is not enabled. JAVASCRIPT is required for viewing code snippets.</div></noscript> 
</div> 
<!-- Custom MAIN CONTENT --> 
<div id="main_content_wrap" tabindex="0" class="outer"> 
<section id="main_content" class="inner"> 
<!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="mainli3.html" >prev</a>] [<a 
href="mainli3.html#tailmainli3.html" >prev-tail</a>] [<a 
href="#tailmainli4.html">tail</a>] [<a 
href="main.html#mainli4.html" >up</a>] </p></div>
<h2 class="likechapterHead"><a 
 id="x5-14000"></a>Testing the GNUHAWK Installation</h2>
<h3 class="likesectionHead"><a 
 id="x5-15000"></a>Running a Sample Component in the Sandbox</h3>
<!--l. 4--><p class="noindent" >To run a sample Component in the Sandbox, enter the following commands: <script type="syntaxhighlighter" class="brush: python"><![CDATA[
 >>> from ossie.utils import sb
 >>> sb.IDELocation("/path/to/ide/eclipse")
 >>> source = sb.Component("sig_source_f")
 >>> plot = sb.Plot()
 >>> source.connect(plot) # On connect, a plot dialog will pop up
 >>> sb.start()
 >>> source.api()  #Look at the Components properties and interfaces
 >>> source.waveform # Look at a specific property
 >>> source.waveform = 105 # Change a specific property
                                                                                                       
                                                                                                       
]]></script>
After sb.start(), a sine wave is displayed in the plot varying from -100 to +100 in amplitude. The waveform
property of the source component defaults to a value of 101, which corresponds to the enumerated type
value of SIN_WAVE. Setting the waveform property to 105 results in a saw wave varying from 0 to
+100.
<!--l. 18--><p class="noindent" ><div class="admonition block note block-indent"><div class="note-inner"><p class="para block block-first"> To use plotting, the path to the eclipse directory of the installed IDE must be specfied in the Sandbox. (This
can also be done by setting the RH_IDE environment variable to the absolute path of the eclipse directory prior
to starting the Python session). </p></div></div>
                                                                                                       
                                                                                                       
<h3 class="likesectionHead"><a 
 id="x5-16000"></a>Quality Assurance (QA) Testing For GNUHAWK Components</h3>
<!--l. 25--><p class="noindent" >A subset of GNU Radio QA tests are incorporated within the GNUHAWK baseline to test the provided
GNUHAWK Components. In the <span 
class="cmtt-12">gnuhawk/qa </span>subdirectory, runtests.py, a Python script, performs all of the tests
located in the <span 
class="cmtt-12">gnuhawk/qa/tests </span>subdirectory. GNUHAWK provides the <span 
class="cmtt-12">gnuhawk/qa/gnuradio </span>Python module,
which sets up its own version of the QA test environment. The REDHAWK Python Sandbox capability is used
to perform underlying tests. Most of the QA tests are unmodified from their original GNU Radio version. In a few
cases, QA tests had to be modified to facilitate using the Sandbox Python environment for the
test.
<h3 class="likesectionHead"><a 
 id="x5-17000"></a>Initial Setup For Quality Assurance (QA)</h3>
<!--l. 36--><p class="noindent" >The <span 
class="cmtt-12">qa/components </span>directory contains helper Components needed for the QA tests. Before running the QA
tests the first time, these Components must be built. To build the Components, enter the following commands. <script type="syntaxhighlighter" class="brush: bash"><![CDATA[
$ cd gnuhawk-<version>/qa
$ make
]]></script>
                                                                                                       
                                                                                                       
<h3 class="likesectionHead"><a 
 id="x5-18000"></a>Running Quality Assurance (QA)</h3>
<!--l. 46--><p class="noindent" >QA tests are run against the locally built Component executables found in the<br 
class="newline" /><span 
class="cmtt-12">gnuhawk-&#x003C;version&#x003E;/components </span>directory. They are not run against the installed Components
in <span 
class="cmtt-12">$SDRROOT/dom/components/gnuhawk</span>. It is not necessary to install the Components to run
the QA tests. It is only necessary to build the GNUHAWK Components and the QA helper
Components. To run all QA tests located in <span 
class="cmtt-12">gnuhawk/qa/tests</span>, enter the following command: <script type="syntaxhighlighter" class="brush: bash"><![CDATA[
$ ./runtests.py
]]></script>
To run a subset of QA tests located in <span 
class="cmtt-12">gnuhawk/qa/tests</span>, enter the following command: <script type="syntaxhighlighter" class="brush: bash"><![CDATA[
$ ./runtests.py qa_<string to match>*.py
]]></script>
To run a particular test located in <span 
class="cmtt-12">gnuhawk/qa/tests</span>, enter the following command: <script type="syntaxhighlighter" class="brush: bash"><![CDATA[
$ ./runtests.py <qa test name>.py
]]></script>
To run a subset of tests within a particular test located in <span 
class="cmtt-12">gnuhawk/qa/tests</span>, enter the following command: <script type="syntaxhighlighter" class="brush: bash"><![CDATA[
$ ./runtests.py <qa test name>.py --prefix=<test prefix>
]]></script>
For example, to run the <span 
class="cmtt-12">test</span><span 
class="cmtt-12">_002 </span>contained in <span 
class="cmtt-12">qa</span><span 
class="cmtt-12">_int</span><span 
class="cmtt-12">_to</span><span 
class="cmtt-12">_float.py</span>, enter the following command: <script type="syntaxhighlighter" class="brush: bash"><![CDATA[
$ ./runtests.py qa_int_to_float.py --prefix=test_002
]]></script>
                                                                                                       
                                                                                                       
<h3 class="likesectionHead"><a 
 id="x5-19000"></a>Troubleshooting</h3>
<!--l. 81--><p class="noindent" >While running GNUHAWK Components, if unexpected behavior is observed, refer to the following possible
causes and solutions.
      <ul class="itemize1">
      <li class="itemize"><span 
class="phvb7t-x-x-120">fft</span><span 
class="phvb7t-x-x-120">_filter</span><span 
class="phvb7t-x-x-120">_fff and qa</span><span 
class="phvb7t-x-x-120">_fft</span><span 
class="phvb7t-x-x-120">_filter fails on 32-bit architectures</span>
      <!--l. 85--><p class="noindent" >If the installed version of FFTW was not configured with the --enable-sse flag, the qa_fft_filter.py
      test fails and the Component fails within a waveform. On 32-bit architectures, FFTW must
      be installed from source. The GNU Radio block gr_fft_filter_fff uses the underlying GNU
      Radio VOLK library, which requires SSE to be enabled. After downloading a particular
      version of FFTW, install FFTW from source by entering the following commands: <script type="syntaxhighlighter" class="brush: bash"><![CDATA[
      $ tar zxvf fftw-<version>.tar.gz
      $ ./configure --enable-float --enable-sse --enable-shared --disable-static
      $ make
      $ make check
      $ make install
      ]]></script>
      </li>
      <li class="itemize"><span 
class="phvb7t-x-x-120">Component fails on start</span><br 
class="newline" />Components that have properties that are sequences, for example, <span 
class="cmtt-12">taps </span>in fft_filter_fff and <span 
class="cmtt-12">k </span>in
      multiply_const_vff, fail when passing empty vectors into the underlying GNU Radio block.
      GNUHAWK Components with sequence properties must have non-zero length for those
      properties.
      </li>
      <li class="itemize"><span 
class="phvb7t-x-x-120">Source Component does not appear to be producing data</span><br 
class="newline" />Source Components, for example, <span 
class="cmtt-12">glfsr</span><span 
class="cmtt-12">_source</span>, <span 
class="cmtt-12">noise</span><span 
class="cmtt-12">_source</span>, <span 
class="cmtt-12">sig</span><span 
class="cmtt-12">_source</span>, and <br 
class="newline" /><span 
class="cmtt-12">glfsr</span><span 
class="cmtt-12">_source</span>, have a property called transfer_size. If this property is not set, then data is throttled
      internally within the Component. If there is unexpected behavior with the rate of data being pushed,
      throttling may be the cause. With throttling, which is on by default, data is pushed at the rate defined by
      SRI. To determine if throttling is causing the issue, disable it by calling <span 
class="cmtt-12">setThrottle(false) </span>in the
      createBlock method.
                                                                                                       
                                                                                                       
      </li>
      <li class="itemize"><span 
class="phvb7t-x-x-120">./configure --with-components fails to find dependencies</span><br 
class="newline" />
      <!--l. 114--><p class="noindent" >When building Components from source, the configuration fails if the GNUHAWK library is not installed.
      Verify the GNUHAWK library is installed prior to running the commands to build the GNUHAWK
      Components from source.</li></ul>
<!--l. 36--><div class="crosslinks"><p class="noindent">[<a 
href="mainli3.html" >prev</a>] [<a 
href="mainli3.html#tailmainli3.html" >prev-tail</a>] [<a 
href="mainli4.html" >front</a>] [<a 
href="main.html#mainli4.html" >up</a>] </p></div>
<!--l. 36--><p class="noindent" ><a 
 id="tailmainli4.html"></a>  
 
<div class=license>  
<hr> 
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" /></a><br /><span xmlns:dct="http:// purl.org/dc/terms/" property="dct:title">REDHAWK Documentation</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>. 
 
</div> 
</body></html> 
