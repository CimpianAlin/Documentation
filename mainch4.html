<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>4 Component Structure</title> 
<meta http-equiv="Content-Type" content="text/html; charset="utf-8""> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,2,next,javascript,charset="utf-8" --> 
<meta name="src" content="main.tex"> 
<link rel="stylesheet" type="text/css" href="main.css"> 
<script type="text/javascript" src="scripts/shCore.js"></script> 
<script type="text/javascript" src="scripts/shBrushCpp.js"></script> 
<script type="text/javascript" src="scripts/shBrushJava.js"></script> 
<script type="text/javascript" src="scripts/shBrushPython.js"></script> 
<script type="text/javascript" src="scripts/shBrushBash.js"></script> 
<script type="text/javascript" src="scripts/shBrushXml.js"></script> 
<link href="styles/shCore.css" rel="stylesheet" type="text/css" /> 
<link href="styles/shThemeDefault.css" rel="stylesheet" type="text/css" /> 
<script type="text/javascript"> 
SyntaxHighlighter.all() 
</script> 
 </head><body 
>
<link rel="icon" type="image/png" href="images/RedHawk_Logo16x.gif"> 
<script> 
function f() {  
document.getElementById('main_content_wrap').focus(); 
} 
if (window.addEventListener) { 
window.addEventListener("load", f, false); 
} else if (window.attachEvent) { 
window.attachEvent("onload", f); 
} 
</script> 
<div class="header"> 
<ul class="navbar"> 
<li><a class="logo-small" href="index.html"><img src="images/RedHawk_Logo_ALT_B_121px.png"/></a></li> <li><a href="index.html">Home</a></li> 
<li><a class="active" href="documentation.html">Documentation</a></li> 
<li><a href="download.html">Download</a></li> 
<li><a href="community.html">Community</a></li> 
</ul> 
<div class="pattern right"></div> 
<a id="forkme_banner" href="https://github.com/redhawksdr">View on GitHub</a> 
<noscript><div class ="NoScript">WARNING: JAVASCRIPT is not enabled. JAVASCRIPT is required for viewing code snippets.</div></noscript> 
</div> 
<!-- Custom MAIN CONTENT --> 
<div id="main_content_wrap" tabindex="0" class="outer"> 
<section id="main_content" class="inner"> 
<!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="mainch5.html" >next</a>] [<a 
href="mainch3.html" >prev</a>] [<a 
href="mainch3.html#tailmainch3.html" >prev-tail</a>] [<a 
href="#tailmainch4.html">tail</a>] [<a 
href="main.html#mainch4.html" >up</a>] </p></div>
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;4</span><br /><a 
 id="x6-450004"></a>Component Structure</h2>
<h3 class="sectionHead"><span class="titlemark">4.1   </span> <a 
 id="x6-460004.1"></a>Introduction</h3>
<!--l. 4--><p class="noindent" >This chapter discusses more advanced topics related to <a 
href="mainli2.html#glo:component">Component</a> development. Prior to reading
this chapter, familiarize yourself with the information in <a 
href="mainch3.html#x5-200003">Chapter 3</a>.
<!--l. 1--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.2   </span> <a 
 id="x6-470004.2"></a>Auto-Generated Component Files</h3>
<!--l. 2--><p class="noindent" >The REDHAWK <a 
href="mainap9.html#ide">IDE</a> provides a tool for auto-generating <a 
href="mainli2.html#glo:component">Component</a> code for C++, Python, or
Java languages. This process takes care of REDHAWK compliance and allows the developer to
insert their own custom processing algorithm for working with the data sent/received by the
<a 
href="mainli2.html#glo:component">Component</a>. The following section provides a brief description of the generated files. Note that
some files may be freely modified, while other files should not be modified. For more information
on using the REDHAWK <a 
href="mainap9.html#ide">IDE</a>, refer to the REDHAWK <a 
href="mainap9.html#ide">IDE</a> chapters of this document (Starting
at <a 
href="mainch14.html#x16-30900014">Chapter 14</a>).
<!--l. 9--><p class="noindent" >Modifying particular files is discouraged for two reasons:
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-47002x1">If a user regenerates the <a 
href="mainli2.html#glo:component">Component</a> using the <a 
href="mainap9.html#ide">IDE</a> (for example, to add a <a 
href="mainli2.html#glo:port">Port</a>), particular
      files are overwritten by the code generators. <div class="admonition block note block-indent"><div class="note-inner"><p class="para block block-first">
           <ul class="itemize1">
           <li class="itemize">Files whose modification is not discouraged (e.g., <span 
class="ectt-1200">componentName.cpp</span>) are not
           affected by such an action.
           </li>
           <li class="itemize">The REDHAWK <a 
href="mainap9.html#ide">IDE</a> provides the option of not rewriting particular files.</li></ul>
      </p></div></div>
      </li>
      <li 
  class="enumerate" id="x6-47004x2">Modification of files implementing REDHAWK interfaces may impact compatibility with
      other REDHAWK modules.</li></ol>
<!--l. 21--><p class="noindent" >The word <span 
class="ectt-1200">componentName </span>is replaced with the <a 
href="mainli2.html#glo:component">Component</a> name provided during <a 
href="mainli2.html#glo:component">Component</a>
creation.
                                                                                         
                                                                                         
<!--l. 23--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.2.1   </span> <a 
 id="x6-480004.2.1"></a>Files Generated for All Components</h4>
<!--l. 24--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.1.1   </span> <a 
 id="x6-490004.2.1.1"></a>Build-Related Files</h5>
<!--l. 26--><p class="noindent" >The code generators create the following files for building and installing the <a 
href="mainli2.html#glo:component">Component</a> using
Autotools:
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">build.sh </span>-  Two  of  these  files  are  generated:  one  of  them  resides  in  the  top-level
      <a 
href="mainli2.html#glo:component">Component</a> directory and the other resides in the source directory. The first of the two
      calls the <span 
class="ectt-1200">build.sh </span>script in the source directory.
      <!--l. 31--><p class="noindent" >The <span 
class="ectt-1200">build.sh </span>script in the source directory runs <span 
class="ectt-1200">./reconf; ./configure; make</span>. The
      Autotools documentation can provide more information on these commands: in short,
      this process creates the <a 
href="mainli2.html#glo:component">Component</a> executable.
      <!--l. 33--><p class="noindent" ><div class="admonition block note block-indent"><div class="note-inner"><p class="para block block-first">  If you use this script, you must install the dependency rpm-build by entering the following
      command: <span 
class="ectt-1200">sudo yum install rpm-build</span>. </p></div></div>
      </li>
      <li class="itemize"><span 
class="ectt-1200">configure.ac </span>- A standard Autoconf configuration file. Refer to the Autoconf
      documentation for more information.
      </li>
      <li class="itemize"><span 
class="ectt-1200">Makefile.am </span>- A standard Automake configuration file. Refer to the Automake
      documentation for more information.
      </li>
      <li class="itemize"><span 
class="ectt-1200">Makefile.am.ide </span>- Provides build information for the REDHAWK <a 
href="mainap9.html#ide">IDE</a>.
      </li>
      <li class="itemize"><span 
class="ectt-1200">reconf </span>- Script that is used to generate the configure script in the Autotools
      chain.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName.spec </span>- Provides <span 
class="ectt-1200">rpmbuild </span>configuration information for facilitating
                                                                                         
                                                                                         
      building <a 
href="mainap9.html#rpm">RPM</a>s for the <a 
href="mainli2.html#glo:component">Component</a>. Refer to the <a 
href="mainap9.html#rpm">RPM</a> documentation for more
      information.</li></ul>
<!--l. 45--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.1.2   </span> <a 
 id="x6-500004.2.1.2"></a>Component XML Descriptors</h5>
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">componentName.prf.xml </span>- Describes the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:property">Properties</a>. More information
      on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <span 
class="ectt-1200">prf.xml </span>file can be found in the REDHAWK specification.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName.scd.xml </span>-  Describes  the  <a 
href="mainli2.html#glo:component">Component</a>&#8217;s  <a 
href="mainli2.html#glo:port">Ports</a>  and  interfaces.  More
      information  on  the  <a 
href="mainli2.html#glo:component">Component</a>&#8217;s  <span 
class="ectt-1200">scd.xml </span>file  can  be  found  in  the  REDHAWK
      specification.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName.spd.xml </span>-  Provides  a  top-level  description  of  the  <a 
href="mainli2.html#glo:component">Component</a>,
      including  the  names  and  locations  of  the  <a 
href="mainli2.html#glo:component">Component</a>  executable  and  <a 
href="mainap9.html#xml">XML</a>  files.
      More information on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <span 
class="ectt-1200">spd.xml </span>file can be found in the REDHAWK
      specification.</li></ul>
<!--l. 53--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.1.3   </span> <a 
 id="x6-510004.2.1.3"></a>Unit Tests File</h5>
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">test_componentName.py </span>- Contains a unit test built on the standard Python <span 
class="ectt-1200">unittest</span>
      Framework. The provided test exercises the generated code. Additional tests may be
      added for testing algorithms produced by the developer. For more information on how
      to add unit tests, consult the Python <span 
class="ectt-1200">unittest </span>Framework documentation.
      <!--l. 58--><p class="noindent" >To   run   the   unit   test(s),   simply   execute   the   file   from   the   command-line
      <span 
class="ectt-1200">./test_componentName.py</span>.
      </li></ul>
                                                                                         
                                                                                         
<!--l. 62--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.2.2   </span> <a 
 id="x6-520004.2.2"></a>Files Generated for C++ Components</h4>
<!--l. 64--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.2.1   </span> <a 
 id="x6-530004.2.2.1"></a>Files where your implementation-specific code should be</h5>
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">componentName.h </span>- The appropriate place to put header-related code in support of
      <span 
class="ectt-1200">componentName.cpp</span>.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName.cpp </span>- The appropriate place for developers to add their own processing
      behavior.
      </li>
      <li class="itemize"><span 
class="ectt-1200">port_impl.h </span>(Optional) - This file is only generated for <a 
href="mainli2.html#glo:port">Ports</a> that utilize interfaces
      other than <a 
href="mainap9.html#bulkio">BulkIO</a>, Burst Input/Output (<a 
href="mainap9.html#burstio">BurstIO</a>), <a 
href="mainap9.html#fei">FEI</a> and Messaging. Contains the
      <a 
href="mainli2.html#glo:port">Port</a>-related code for the <a 
href="mainli2.html#glo:component">Component</a>. If the type of ports changes, then this file needs
      to be re-generated, overwriting your application-specific code.
      </li>
      <li class="itemize"><span 
class="ectt-1200">port_impl.cpp </span>(Optional) - This file is only generated for <a 
href="mainli2.html#glo:port">Ports</a> that utilize interfaces
      other than <a 
href="mainap9.html#bulkio">BulkIO</a>, <a 
href="mainap9.html#burstio">BurstIO</a>, <a 
href="mainap9.html#fei">FEI</a> and Messaging. Contains the <a 
href="mainli2.html#glo:port">Port</a>-related code for
      the <a 
href="mainli2.html#glo:component">Component</a>. If the type of ports changes, then this file needs to be re-generated,
      overwriting your application-specific code.</li></ul>
<!--l. 72--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.2.2   </span> <a 
 id="x6-540004.2.2.2"></a>Files that you should not modify</h5>
<!--l. 74--><p class="noindent" >If these files are modified, then your ability to regenerate the component is affected.
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">main.cpp </span>-  Contains  the  main  routine  for  the  process  that  is  started  when  the
      <a 
href="mainli2.html#glo:component">Component</a> is instantiated. Modification of this file is not recommended.
                                                                                         
                                                                                         
      </li>
      <li class="itemize"><span 
class="ectt-1200">struct_props.h </span>- Contains support classes for struct <a 
href="mainli2.html#glo:property">Properties</a> that are defined in
      the code-generation interface. Modification of this file is discouraged.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName_base.h </span>- Provides interface implementations for the <a 
href="mainli2.html#glo:component">Component</a> based
      on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:port">Ports</a> and <a 
href="mainli2.html#glo:property">Properties</a>. Modification of <span 
class="ectt-1200">componentName_base.h </span>is
      discouraged.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName_base.cpp           </span>-                  Provides                  interface
      implementations for the <a 
href="mainli2.html#glo:component">Component</a> based on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:port">Ports</a> and <a 
href="mainli2.html#glo:property">Properties</a>.
      Modification of <span 
class="ectt-1200">componentName_base.cpp </span>is discouraged.</li></ul>
<!--l. 83--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.2.3   </span> <a 
 id="x6-550004.2.3"></a>Files Generated for Python Components</h4>
<!--l. 84--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.3.1   </span> <a 
 id="x6-560004.2.3.1"></a>Files where your implementation-specific code should be</h5>
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">componentName.py </span>- The appropriate place for developers to add their own processing
      behavior.</li></ul>
<!--l. 88--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.3.2   </span> <a 
 id="x6-570004.2.3.2"></a>Files that you should not modify</h5>
<!--l. 90--><p class="noindent" >If these files are modified, then your ability to regenerate the component is affected.
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">componentName_base.py </span>-  Provides  interface  implementations  for  the  <a 
href="mainli2.html#glo:component">Component</a>
      based on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:port">Ports</a> and <a 
href="mainli2.html#glo:property">Properties</a>. Modification of this file is discouraged.</li></ul>
                                                                                         
                                                                                         
<!--l. 96--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.2.4   </span> <a 
 id="x6-580004.2.4"></a>Files Generated for Java Components</h4>
<!--l. 99--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.4.1   </span> <a 
 id="x6-590004.2.4.1"></a>Files where your implementation-specific code should be</h5>
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">componentName.java </span>-  The  appropriate  place  for  developers  to  add  their  own
      processing behavior.</li></ul>
<!--l. 104--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.4.2   </span> <a 
 id="x6-600004.2.4.2"></a>Files that you should not modify</h5>
<!--l. 106--><p class="noindent" >If these files are modified, then your ability to regenerate the component is affected.
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">startJava.sh </span>- Script containing the process that is started when the <a 
href="mainli2.html#glo:component">Component</a> is
      instantiated.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName_base.java </span>- Provides interface implementations for the <a 
href="mainli2.html#glo:component">Component</a>
      based on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:port">Ports</a> and <a 
href="mainli2.html#glo:property">Properties</a>. Modification of this file is discouraged.</li></ul>
<!--l. 112--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.4.3   </span> <a 
 id="x6-610004.2.4.3"></a>Transitioning Java Components from version 1.8 to later versions</h5>
<!--l. 114--><p class="noindent" >If <span 
class="ectt-1200">componentName.java </span>is not regenerated when migrating from 1.8 to later versions, the
<a 
href="mainli2.html#glo:component">Component</a> does not inherit from the base class, so it does not take advantage of the new code
pattern. In addition, in order for the <a 
href="mainli2.html#glo:component">Component</a> to build, the method <span 
class="ectt-1200">configureOrb</span>
must be added to <span 
class="ectt-1200">componentName.java </span>because the base class makes a call on that
method.
<!--l. 116--><p class="noindent" >If you want to inherit from the base class and take advantage of the new pattern, save off the
custom main class Java file, regenerate the main Java class to get the new 1.10 code pattern, and
for example, move source from the run() method to the serviceFunction() method to integrate the
custom code in the 1.8 main class into the new main class.
                                                                                         
                                                                                         
<!--l. 118--><p class="noindent" ><div class="admonition block caution block-indent"><div class="caution-inner"><p class="para block block-first">  If <span 
class="ectt-1200">componentName.java </span>is regenerated, any custom code added to it is removed. </p></div></div>
<!--l. 122--><p class="noindent" >Add this class to the <span 
class="ectt-1200">componentName.java </span>right before the last line which is "}"
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
     /**
      * Set additional options for ORB startup. For example:
      *
      *   orbProps.put("com.sun.CORBA.giop.ORBFragmentSize",
      *                          Integer.toString(fragSize));
      *
      * @param orbProps
      */
     public static void configureOrb(final Properties orbProps) {
     }
]]></script></div>
<!--l. 1--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.3   </span> <a 
 id="x6-620004.3"></a>Auto-Generated Component Methods</h3>
<!--l. 3--><p class="noindent" >This section provides an overview of noteworthy methods provided in the auto-generated
<a 
href="mainli2.html#glo:component">Component</a> files. In some cases, the names of the methods vary by language.
<!--l. 6--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.3.1   </span> <a 
 id="x6-630004.3.1"></a><span 
class="ectt-1200">serviceFunction()</span></h4>
<!--l. 7--><p class="noindent" >The core functionality of a <a 
href="mainli2.html#glo:component">Component</a> resides in the <span 
class="ectt-1200">serviceFunction() </span>method in C++,
the <span 
class="ectt-1200">process() </span>method in Python, and the <span 
class="ectt-1200">serviceFunction() </span>method in Java. The
<span 
class="ectt-1200">serviceFunction() </span>is invoked on a recurring basis after <span 
class="ectt-1200">start() </span>is called on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s
base class.
<!--l. 10--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.3.2   </span> <a 
 id="x6-640004.3.2"></a><span 
class="ectt-1200">constructor()</span></h4>
<!--l. 11--><p class="noindent" >This is the <a 
href="mainli2.html#glo:component">Component</a>/<a 
href="mainli2.html#glo:device">Device</a> constructor. When this function is invoked, properties of kind
                                                                                         
                                                                                         
<a 
href="mainli2.html#glo:property">Property</a> are initialized to their default or overloaded state.
<!--l. 13--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.4   </span> <a 
 id="x6-650004.4"></a>Base Component Members</h3>
<!--l. 15--><p class="noindent" >This section provides an overview of members available to the <a 
href="mainli2.html#glo:component">Component</a> class. There are four
kinds of members: ports, properties, domain awareness, and network interface.
<!--l. 17--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.4.1   </span> <a 
 id="x6-660004.4.1"></a>Ports</h4>
<!--l. 19--><p class="noindent" >Data flow into and out of <a 
href="mainli2.html#glo:component">Components</a> is accomplished through the use of <a 
href="mainli2.html#glo:port">Ports</a>. <a 
href="mainli2.html#glo:port">Ports</a> are
described as being either a <span 
class="ecbx-1200">provides </span>(input) or <span 
class="ecbx-1200">uses </span>(output) <a 
href="mainli2.html#glo:port">Port</a>. This naming convention is
often viewed as counter-intuitive, so an explanation is in order. <a 
href="mainli2.html#glo:port">Ports</a> are <a 
href="mainap9.html#rpc">RPC</a> interfaces to a
<a 
href="mainli2.html#glo:component">Component</a>. An input <a 
href="mainli2.html#glo:port">Port</a>, therefore, <span 
class="ecbx-1200">provides </span>functionality that can be <span 
class="ecbx-1200">used </span>by an output
<a 
href="mainli2.html#glo:port">Port</a>.
<!--l. 25--><p class="noindent" >REDHAWK contains a variety of standardized interfaces that facilitate interoperability. These
interfaces are implemented by <a 
href="mainli2.html#glo:port">Ports</a>. When a <a 
href="mainli2.html#glo:port">Port</a> is selected in the <a 
href="mainli2.html#glo:component">Component</a> generation
wizard in the REDHAWK <a 
href="mainap9.html#ide">IDE</a>, code to implement these interfaces is automatically
generated.
<!--l. 29--><p class="noindent" >Irrespective of direction, a <a 
href="mainli2.html#glo:port">Port</a> is accessed as a member of the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s base class. Assuming
that a <a 
href="mainli2.html#glo:port">Port</a> called &#8220;myport&#8221; of any interface exists in the <a 
href="mainli2.html#glo:component">Component</a>, it is accessed in the following
ways in C++, Python, and Java, respectively.
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
this->myport
]]></script></div>
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
self.port_myport
]]></script></div>
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
this.port_myport
]]></script></div>
<!--l. 42--><p class="noindent" >See <a 
href="mainch5.html#x7-940005.6">Section 5.6</a> for details on how to use ports for sending or receiving data.
                                                                                         
                                                                                         
<!--l. 44--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.4.2   </span> <a 
 id="x6-670004.4.2"></a>Properties</h4>
<!--l. 47--><p class="noindent" >Much like <a 
href="mainli2.html#glo:port">Ports</a>, <a 
href="mainli2.html#glo:property">Properties</a> are available to the <a 
href="mainli2.html#glo:component">Component</a> through generated members to for the
<a 
href="mainli2.html#glo:component">Component</a>&#8217;s base class. The <a 
href="mainli2.html#glo:property">Property</a> is found through the <a 
href="mainli2.html#glo:property">Property</a>&#8217;s name (if it has
one) or its id. For example, if a <a 
href="mainli2.html#glo:property">Property</a> is defined with an id of &#8220;foo&#8221; and a name
of &#8220;abc&#8221;, it would can be accessed in the following ways in C++, Python, and Java,
respectively,
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
this->abc
]]></script></div>
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
self.abc
]]></script></div>
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
this.abc
]]></script></div>
<!--l. 60--><p class="noindent" >If the <a 
href="mainli2.html#glo:property">Property</a> does not have a name defined, then it would be accessed in the following way in
C++, Python, and Java, respectively,
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
this->foo
]]></script></div>
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
self.foo
]]></script></div>
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
this.foo
]]></script></div>
<!--l. 72--><p class="noindent" >Note that no automated check is performed on the code generation to avoid a name collision
between properties or ports.
<!--l. 74--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.4.3   </span> <a 
 id="x6-680004.4.3"></a>Domain Awareness</h4>
<!--l. 75--><p class="noindent" >Each <a 
href="mainli2.html#glo:component">Component</a> has two members that provide a reference to the <a 
href="mainli2.html#glo:domain">Domain</a> and <a 
href="mainli2.html#glo:application">Application</a> in
which the <a 
href="mainli2.html#glo:component">Component</a> is operating. To retrieve the Domain Manager and Application, access
the member functions <span 
class="ectt-1200">getDomainManager() </span>and <span 
class="ectt-1200">getApplication()</span>, which return a
                                                                                         
                                                                                         
DomainManagerContainer and ApplicationContainer, respectively. DomainManagerContainer has
the member <span 
class="ectt-1200">getRef()</span>, which returns the <a 
href="mainap9.html#corba">CORBA</a> pointer to the Domain Manager object.
ApplicationContainer has the member <span 
class="ectt-1200">getRef()</span>, which returns the <a 
href="mainap9.html#corba">CORBA</a> pointer to the
Application object.
<!--l. 80--><p class="noindent" >In the case of <a 
href="mainli2.html#glo:device">Devices</a>, instead of <span 
class="ectt-1200">getApplication()</span>, the base class contains <span 
class="ectt-1200">getDeviceManager()</span>,
which returns a DeviceManagerContainer. The DeviceManagerContainer has the member
<span 
class="ectt-1200">getRef()</span>, which returns the <a 
href="mainap9.html#corba">CORBA</a> pointer to the Device Manager object.
<!--l. 83--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.4.4   </span> <a 
 id="x6-690004.4.4"></a>Network Interface</h4>
<!--l. 84--><p class="noindent" >If a <a 
href="mainli2.html#glo:component">Component</a> contains a dependency against any member of <a 
href="mainli2.html#glo:gpp">GPP</a>&#8217;s nic_allocation allocation
property, then the framework will, upon deployment, make sure that those network
resources are made available to the <a 
href="mainli2.html#glo:component">Component</a>. Whichever <a 
href="mainli2.html#glo:nic">NIC</a> statisfies the allocation
requirement is fed to the <a 
href="mainli2.html#glo:component">Component</a>, and it is made available to the developer through the
<span 
class="ectt-1200">getNetwork() </span>member, which returns a NetworkContainer. NetworkContainer has the member
function <span 
class="ectt-1200">getNic()</span>, which is the string name of the <a 
href="mainli2.html#glo:nic">NIC</a> that satisfied the requirement (i.e.:
eth0).
<!--l. 88--><p class="noindent" >Note that if the network dependency is declared for any one <a 
href="mainli2.html#glo:component">Component</a>, that <a 
href="mainli2.html#glo:component">Component</a>&#8217;s
deployment is made to the core(s) that are closest to the <a 
href="mainli2.html#glo:nic">NIC</a> on the processor. This happens
automatically with no need for additional input from the deployer.
<!--l. 1--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.5   </span> <a 
 id="x6-700004.5"></a>Component Implementations</h3>
<!--l. 3--><p class="noindent" ><a 
href="mainli2.html#glo:component">Components</a> may specify particular dependencies such as Operating System (<a 
href="mainap9.html#os">OS</a>), processor
architecture, or required <a 
href="mainli2.html#glo:device">Device</a> <a 
href="mainli2.html#glo:property">Properties</a> (e.g., processor speed or memory capacity). Setting
these dependencies ensures that a <a 
href="mainli2.html#glo:component">Component</a> is deployed to an appropriate <a 
href="mainli2.html#glo:device">Device</a> at
runtime.
<!--l. 6--><p class="noindent" >While REDHAWK supports multiple implementations for a single <a 
href="mainli2.html#glo:component">Component</a>, it can be confusing,
especially when debugging a system. Except for some limited scenarios, it is recommended that
developers associate a single implementation with each <a 
href="mainli2.html#glo:component">Component</a>
<!--l. 1--><p class="noindent" >
                                                                                         
                                                                                         
<h3 class="sectionHead"><span class="titlemark">4.6   </span> <a 
 id="x6-710004.6"></a>SRI Keywords</h3>
<!--l. 4--><p class="noindent" >Signal Related Information (<a 
href="mainap9.html#sri">SRI</a>) are used on several REDHAWK interfaces for the metadata
describing the payload being pushed (i.e.: sampling period). While it is possible to describe some
generic parameters, signal specific parameters need to be stored in a generalized structure. <a 
href="mainap9.html#sri">SRI</a>
keywords are passed as a sequence of key/value pairs of type <span 
class="ectt-1200">CF::Properties</span>. The reason why the
underlying type for <a 
href="mainap9.html#sri">SRI</a> is the same as that used for <a 
href="mainli2.html#glo:property">Properties</a> is that <a 
href="mainli2.html#glo:property">Properties</a> are already
structured to handle generalized data sets. In <a 
href="mainli2.html#glo:property">Properties</a>, the keys are strings and the values are a
<a 
href="mainap9.html#corba">CORBA</a> type called <span 
class="ectt-1200">CORBA::Any</span>. <span 
class="ectt-1200">CORBA::Any </span>is a structure that can be used to marshal a wide
variety of types, and while it is very powerful, its syntax is complicated, especially in C++. To
deal with this issue, REDHAWK has developed a type cast that greatly simplifies their
use.
<!--l. 12--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.6.1   </span> <a 
 id="x6-720004.6.1"></a>Adding SRI Keywords in C++, Python, and Java</h4>
<!--l. 13--><p class="noindent" >Given a <a 
href="mainli2.html#glo:component">Component</a> with simple <a 
href="mainli2.html#glo:property">Properties</a> <span 
class="ectt-1200">chan_rf </span>and <span 
class="ectt-1200">col_rf </span>that are of type double and have
an initial value of <span 
class="ectt-1200">-1</span>, and a <a 
href="mainap9.html#bulkio">BulkIO</a> StreamSRI instance named <span 
class="ectt-1200">sri</span>, here are implementations in
C++, Python and Java, of pushing out those <a 
href="mainli2.html#glo:property">Property</a> values as the keywords <span 
class="ectt-1200">COL_RF </span>and
<span 
class="ectt-1200">CHAN_RF</span>.
<!--l. 15--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.6.1.1   </span> <a 
 id="x6-730004.6.1.1"></a>C++ Implementation</h5>
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
redhawk::PropertyMap &tmp = redhawk::PropertyMap::cast(sri.keywords);
tmp["CHAN_RF"] = chan_rf;
tmp["COL_RF"] = col_rf;
]]></script></div>
<!--l. 22--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.6.1.2   </span> <a 
 id="x6-740004.6.1.2"></a>Python Implementation</h5>
<!--l. 23--><p class="noindent" >First, to use <span 
class="ectt-1200">any.to_any</span>, perform the following import:
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
from omniORB import any
]]></script>
                                                                                         
                                                                                         
</div>
Then, the implementation is as follows: <div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
self.sri.keywords.append(CF.DataType("CHAN_RF", any.to_any(self.chan_rf)))
self.sri.keywords.append(CF.DataType("COL_RF", any.to_any(self.col_rf)))
]]></script></div>
<!--l. 33--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.6.1.3   </span> <a 
 id="x6-750004.6.1.3"></a>Java Implementation</h5>
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
double chan_rf = this.chan_rf.getValue();
double col_rf = this.col_rf.getValue();
sri.keywords = new DataType[2];
sri.keywords[0] = new DataType("CHAN_RF", AnyUtils.toAny(chan_rf, TCKind.tk_double));
sri.keywords[1] = new DataType("COL_RF", AnyUtils.toAny(col_rf, TCKind.tk_double));
]]></script></div>
<!--l. 42--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.6.2   </span> <a 
 id="x6-760004.6.2"></a>Verifying SRI Keywords</h4>
<!--l. 44--><p class="noindent" >It is possible to verify the keywords and values being pushed out by connecting a <span 
class="ectt-1200">DataSink()</span>
<a 
href="mainli2.html#glo:component">Component</a> in the Python <a 
href="mainli2.html#glo:Sandbox">Sandbox</a>. This assumes there is at least one <a 
href="mainap9.html#bulkio">BulkIO</a> output <a 
href="mainli2.html#glo:port">Port</a> for the
test <a 
href="mainli2.html#glo:component">Component</a>, and a <span 
class="ectt-1200">pushSRI() </span>call is made on that <a 
href="mainli2.html#glo:port">Port</a>. The following code demonstrates this
verification:
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
&gt;&gt;> from ossie.utils import sb
&gt;&gt;> comp = sb.launch("<component name>")
&gt;&gt;> sink = sb.DataSink()
&gt;&gt;> comp.connect(sink)
&gt;&gt;> sb.start()
&gt;&gt;> print sink.sri().keywords
]]></script></div>
                                                                                         
                                                                                         
<!--l. 55--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.6.3   </span> <a 
 id="x6-770004.6.3"></a>Retrieving SRI in C++</h4>
<!--l. 57--><p class="noindent" >Because <span 
class="ectt-1200">redhawk::PropertyMap </span>maps the <span 
class="ectt-1200">CORBA::Any</span>, retrieving the contents requires the use of
getters. Assuming that the content of a particular keyword is a double,
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
redhawk::PropertyMap &tmp = redhawk::PropertyMap::cast(sri.keywords);
chan_rf = tmp["CHAN_RF"].toDouble();
]]></script></div>
<!--l. 1--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.7   </span> <a 
 id="x6-780004.7"></a>Managing and Defining Properties</h3>
<!--l. 3--><p class="noindent" >Properties are defined by their structure and contents. The structure of a property may be of type
Simple, Simple Sequence, Struct, or Struct sequences.
<!--l. 6--><p class="noindent" >Struct <a 
href="mainli2.html#glo:property">Properties</a> contain named elements, each of which is a <a 
href="mainli2.html#glo:property">Property</a>.
<!--l. 9--><p class="noindent" >Through the use of generated code and the REDHAWK libraries, manipulation of properties uses
fundamental types provided by C++, Python, or Java, as seen in Section <a 
href="#x6-670004.4.2">4.4.2<!--tex4ht:ref: accessing_properties --></a>. For
example, a Simple Sequence, complex-float property is manipulated via a std::vector&#x003C;
std::complex&#x003C;float&#x003E; &#x003E; variable in C++ and a list of Python complex objects in Python.
Generated <a 
href="mainli2.html#glo:component">Component</a> code provides a class data field representing each property for that
<a 
href="mainli2.html#glo:component">Component</a>.
<!--l. 13--><p class="noindent" >The primitive data types (either as Simples or Simple Sequences) supported are: boolean,
octet, float, double, short, ushort, long, longlong, ulong, ulongong, string, objref, and
char.
<!--l. 15--><p class="noindent" >The data types (either as Simples or Simple Sequences) may be set to complex are: boolean, octet,
float, double, short, ushort, long, longlong, ulong, and ulongong.
<!--l. 3--><p class="noindent" >Each <a 
href="mainli2.html#glo:component">Component</a> implements that interface of type <span 
class="ectt-1200">CF::Resource </span>that provides remote access to
the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:property">Properties</a> through the <span 
class="ectt-1200">query() </span>and <span 
class="ectt-1200">configure() </span>methods. The <span 
class="ectt-1200">query()</span>
method provides a means for reading a <a 
href="mainli2.html#glo:component">Component</a>&#8217;s current <a 
href="mainli2.html#glo:property">Property</a> settings and
the the <span 
class="ectt-1200">configure() </span>method provides a means for setting a <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:property">Property</a>
values.
<!--l. 6--><p class="noindent" ><a 
href="mainli2.html#glo:property">Properties</a> can be <span 
class="ectt-1200">readonly</span>, <span 
class="ectt-1200">writeonly</span>, or <span 
class="ectt-1200">readwrite</span>. <a 
href="mainli2.html#glo:property">Properties</a> with read privileges can only be
accessed using the <span 
class="ectt-1200">query() </span>method and <a 
href="mainli2.html#glo:property">Properties</a> with write privileges can only be set using the
<span 
class="ectt-1200">configure() </span>method.
<!--l. 8--><p class="noindent" >The REDHAWK library base classes provide a complete implementation of <span 
class="ectt-1200">configure()</span>, with the
                                                                                         
                                                                                         
creation of specific <a 
href="mainli2.html#glo:property">Properties</a> handled per <a 
href="mainli2.html#glo:component">Component</a> by the generated base classes.
Beyond the basic updating of local values, the standard <span 
class="ectt-1200">configure() </span>implementation
provides:
      <ul class="itemize1">
      <li class="itemize">Thread-safe updates via mutual exclusion
      </li>
      <li class="itemize">Automatic conversion of numeric types
      </li>
      <li class="itemize">Notification on changes to <a 
href="mainli2.html#glo:property">Property</a> values
      </li>
      <li class="itemize">External reporting of changes via events
      </li>
      <li class="itemize">Exception throwing for invalid input</li></ul>
<!--l. 18--><p class="noindent" >Because of these enhancements, developers are strongly discouraged from overloading either the
<span 
class="ectt-1200">query() </span>or <span 
class="ectt-1200">configure() </span>methods.
<!--l. 20--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.7.1   </span> <a 
 id="x6-790004.7.1"></a>Property Change Listeners</h4>
<!--l. 22--><p class="noindent" >Often, it is useful to trigger additional actions when the value of a <a 
href="mainli2.html#glo:property">Property</a> changes. <a 
href="mainli2.html#glo:component">Components</a>
support a type of notification called <a 
href="mainli2.html#glo:property">Property</a> change listeners that enable the developer to register
callback methods that are executed whenever <span 
class="ectt-1200">configure() </span>is called with new values for the
particular <a 
href="mainli2.html#glo:property">Property</a>.
<!--l. 24--><p class="noindent" ><a 
href="mainli2.html#glo:property">Property</a> change listeners are executed while holding the lock that protects access to all <a 
href="mainli2.html#glo:property">Properties</a>
for the <a 
href="mainli2.html#glo:component">Component</a>. This ensures that no outside changes can occur while responding to <a 
href="mainli2.html#glo:property">Property</a>
changes. The callback may alter the value of the <a 
href="mainli2.html#glo:property">Property</a> or call additional functions; however,
avoid computationally expensive or blocking operations.
<!--l. 26--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.7.1.1   </span> <a 
 id="x6-800004.7.1.1"></a>C++</h5>
<!--l. 28--><p class="noindent" >C++ <a 
href="mainli2.html#glo:component">Components</a> support notification of <a 
href="mainli2.html#glo:property">Property</a> value changes using member function callbacks.
The callback is registered by <a 
href="mainli2.html#glo:property">Property</a> Identifier (<a 
href="mainap9.html#id">ID</a>).
                                                                                         
                                                                                         
<!--l. 30--><p class="noindent" >The following example explains how to add a <a 
href="mainli2.html#glo:property">Property</a> change listener for the <span 
class="ectt-1200">freqMHz </span>simple
<a 
href="mainli2.html#glo:property">Property</a>, with a type float, of a <a 
href="mainli2.html#glo:component">Component</a> named <span 
class="ectt-1200">component</span>.
<!--l. 32--><p class="noindent" >In <span 
class="ectt-1200">[component].h</span>, add a private method declaration for your callback. The callback receives two
arguments, the old and new values, both by const pointer:
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
void freqMHz_changed(const float* oldValue, const float* newValue);
]]></script></div>
<!--l. 38--><p class="noindent" >You must define the function in your <span 
class="ectt-1200">[component].cpp </span>file.
<!--l. 40--><p class="noindent" >Then, in the <a 
href="mainli2.html#glo:component">Component</a> constructor, register the change listener:
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
this->addPropertyChangeListener("freqMHz", this,
        &MyComponent_i::freqMHz_changed);
]]></script></div>
<!--l. 47--><p class="noindent" >The exact type of the callback arguments is not checked at compile time. At run time, if the native
type of the <a 
href="mainli2.html#glo:property">Property</a> does not match the argument type, the registration fails and a warning is
logged:
                                                                                         
                                                                                         
<div class="verbatim">
2014-06-09&#x00A0;14:30:23&#x00A0;WARN&#x00A0;&#x00A0;PropertySet_impl:132&#x00A0;-&#x00A0;&#x00A0;Cannot&#x00A0;add&#x00A0;change
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;listener:&#x00A0;Property&#x00A0;&#8217;TuningRF&#8217;&#x00A0;is&#x00A0;of&#x00A0;type&#x00A0;&#8217;CORBA::ULongLong&#8217;
</div>
<!--l. 52--><p class="nopar" >
<!--l. 54--><p class="noindent" >This happens most often when using long, ulong, longlong, and ulonglong <a 
href="mainli2.html#glo:property">Properties</a>. The
callback arguments should be declared using the <a 
href="mainap9.html#corba">CORBA</a>-defined types (for example,
CORBA::Long) instead of the C++ type (for example, long, which varies in size depending on the
platform).
<!--l. 57--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.7.1.2   </span> <a 
 id="x6-810004.7.1.2"></a>Python</h5>
<!--l. 59--><p class="noindent" >Like C++, Python <a 
href="mainli2.html#glo:component">Components</a> allow registering listeners by <a 
href="mainli2.html#glo:property">Property</a>. The callback is typically a
member function.
<!--l. 61--><p class="noindent" >The following example explains how to add a <a 
href="mainli2.html#glo:property">Property</a> change listener for the <span 
class="ectt-1200">freqMHz</span>
<a 
href="mainli2.html#glo:property">Property</a>.
<!--l. 63--><p class="noindent" >Define the callback as a member function on your <a 
href="mainli2.html#glo:component">Component</a>. Excluding the implicit <span 
class="ectt-1200">self</span>
argument, the callback receives three arguments: the <a 
href="mainli2.html#glo:property">Property</a> <a 
href="mainap9.html#id">ID</a> and the old and new
values.
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
def freqMHz_changed(self, propid, oldval, newval):
        # Perform action based on change
]]></script></div>
<!--l. 70--><p class="noindent" >In your <a 
href="mainli2.html#glo:component">Component</a> <span 
class="ectt-1200">initialize() </span>method or constructor, register the change listener:
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
self.addPropertyChangeListener("freqMHz", self.freqMHz_changed)
]]></script></div>
<!--l. 76--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.7.1.3   </span> <a 
 id="x6-820004.7.1.3"></a>Java</h5>
                                                                                         
                                                                                         
<!--l. 78--><p class="noindent" >Java <a 
href="mainli2.html#glo:property">Properties</a> support an idiomatic listener interface for responding to changes. As
opposed to C++ and Python, listener registration is performed directly on the <a 
href="mainli2.html#glo:property">Property</a>
object.
<!--l. 80--><p class="noindent" >The following example explains how to add a <a 
href="mainli2.html#glo:property">Property</a> change listener for the <span 
class="ectt-1200">freqMHz </span><a 
href="mainli2.html#glo:property">Property</a> of
a <a 
href="mainli2.html#glo:component">Component</a> named <span 
class="ectt-1200">MyComponent</span>.
<!--l. 82--><p class="noindent" >Define your callback that will respond to changes for the <a 
href="mainli2.html#glo:property">Property</a> as a member function on your
<a 
href="mainli2.html#glo:component">Component</a> class. For simple numeric <a 
href="mainli2.html#glo:property">Properties</a>, the old and new value arguments can be the
primitive type (for example, float):
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
private void freqMHz_changed(float oldValue, float newValue) {
     // Perform action based on change
}
]]></script></div>
<!--l. 90--><p class="noindent" >In your <a 
href="mainli2.html#glo:component">Component</a>&#8217;s constructor, define an anonymous subclass of
<span 
class="ectt-1200">org.ossie.properties.ChangeListener </span>that connects the <a 
href="mainli2.html#glo:property">Property</a>&#8217;s change notification to your
callback. For simple numeric <a 
href="mainli2.html#glo:property">Properties</a>, the type parameter of the <span 
class="ectt-1200">ChangeListener </span>class must be
the boxed type (for example, Float).
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
this.freqMHz.addPropertyListener(new ChangeListener<Float>() {
     void valueChanged(Float oldValue, Float newValue) {
         MyComponent_i.this.freqMHz_changed(oldValue, newValue);
     }
});
]]></script></div>
<!--l. 100--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.7.1.4   </span> <a 
 id="x6-830004.7.1.4"></a>Overriding the <span 
class="ectt-1200">configure() </span>Method</h5>
<!--l. 104--><p class="noindent" >For the vast majority of cases, the standard <span 
class="ectt-1200">configure() </span>implementation is sufficient. Developers
are strongly discouraged from overriding <span 
class="ectt-1200">configure()</span>. However, in the event that additional
functionality beyond what is provided is required, the overridden method should call the base class
<span 
class="ectt-1200">configure() </span>method to ensure that the behavior expected by the library and framework is
preserved. Whether the base class method is pre- or post-extended is left to the discretion of the
<a 
href="mainli2.html#glo:component">Component</a> developer.
                                                                                         
                                                                                         
<!--l. 1--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.8   </span> <a 
 id="x6-840004.8"></a>Creating a REDHAWK Shared Library Project</h3>
<!--l. 4--><p class="noindent" >The <span 
class="ecbx-1200">REDHAWK Shared Library Project Wizard </span>enables users to quickly create a C++
shared library for use in Redhawk. In the wizard, the user specifies the project name and can then
generate a simple set of code files to begin adding in library functions. The following procedure
explains how to use the <span 
class="ecbx-1200">Shared Library Project Wizard</span>.
<!--l. 6--><p class="noindent" >
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-84002x1">To open the <span 
class="ecbx-1200">Shared Library Project Wizard</span>, select <span 
class="ecbx-1200">File </span><span 
class="cmmi-12">&#x003E; </span><span 
class="ecbx-1200">New </span><span 
class="cmmi-12">&#x003E; </span><span 
class="ecbx-1200">Other</span>.
      <!--l. 9--><p class="noindent" >The <span 
class="ecbx-1200">Select a wizard </span>dialog is displayed (<a 
href="#x6-84003r1">Figure 4.1</a>).
      <!--l. 11--><p class="noindent" ><hr class="figure"><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
><a 
 id="x6-84003r1"></a> <img 
src="images/selectawizard.png" alt="PIC"  
>
<br /> <table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;4.1: </td><td  
class="content">Select a Wizard Dialog</td></tr></table><!--tex4ht:label?: x6-84003r1 -->
      <!--l. 16--><p class="noindent" ></td></tr></table></div><hr class="endfigure">
      </li>
      <li 
  class="enumerate" id="x6-84005x2">Select <span 
class="ecbx-1200">REDHAWK Shared Library Project </span>and click <span 
class="ecbx-1200">Next</span>.
      <!--l. 20--><p class="noindent" >The <span 
class="ecbx-1200">Create a REDHAWK Shared Library Project </span>dialog is displayed (<a 
href="#x6-84006r2">Figure
      4.2</a>).
      <!--l. 22--><p class="noindent" ><hr class="figure"><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
><a 
 id="x6-84006r2"></a> <img 
src="images/NewSharedLibraryProject.png" alt="PIC"  
>
<br /> <table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;4.2: </td><td  
class="content">Create a REDHAWK Shared Library Project Dialog</td></tr></table><!--tex4ht:label?: x6-84006r2 -->
      <!--l. 27--><p class="noindent" ></td></tr></table></div><hr class="endfigure">
      </li>
      <li 
  class="enumerate" id="x6-84008x3">In the <span 
class="ecbx-1200">Project name </span>field, enter a project name.
      </li>
      <li 
  class="enumerate" id="x6-84010x4">Click <span 
class="ecbx-1200">Finish</span>.
      <!--l. 32--><p class="noindent" >The Shared Libary Project is created and the Overview tab is displayed. (<a 
href="#x6-84011r3">Figure
      4.3</a>).
      <!--l. 34--><p class="noindent" ><hr class="figure"><div class="figure" 
><table class="figure"><tr class="figure"><td class="figure" 
><a 
 id="x6-84011r3"></a> <img 
src="images/SharedLibProjOverview.png" alt="PIC"  
>
<br /> <table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Figure&#x00A0;4.3: </td><td  
class="content">The Shared Library Project Overview tab</td></tr></table><!--tex4ht:label?: x6-84011r3 -->
      <!--l. 39--><p class="noindent" ></td></tr></table></div><hr class="endfigure">
      </li>
      <li 
  class="enumerate" id="x6-84013x5">Click the <span 
class="ecbx-1200">Generate All Implementations </span>icon to generate the source code.
      </li></ol>
                                                                                         
                                                                                         
<!--l. 64--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.9   </span> <a 
 id="x6-850004.9"></a>Including External Libraries</h3>
<!--l. 65--><p class="noindent" >This section details how to link a C++ <a 
href="mainli2.html#glo:component">Component</a> with a library. Two examples are given: using a
pkg-config (<span 
class="ectt-1200">.pc</span>) file to find and link against a library, and directly linking against a library. Using
the pkg-config file will allow your project to check for the presence of the library and issue an error
while running configure if it is not found. It also will let you avoid hard-coded options. If a
pkg-config file is not available, or if you wish to directly supply the compiler/linker flags, you can
use the second method.
<!--l. 67--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.9.1   </span> <a 
 id="x6-860004.9.1"></a>Adding a Library by Referencing a pkg-config File</h4>
<!--l. 68--><p class="noindent" >To add a library by referencing a pkg-config (<span 
class="ectt-1200">.pc</span>) file, edit the <span 
class="ectt-1200">configure.ac </span>file in your
<a 
href="mainli2.html#glo:component">Component</a>&#8217;s implementation directory. Find the line referencing PROJECTDEPS in the code that
looks like this:
<div class="minipage"><script type="syntaxhighlighter" class="brush: bash"><![CDATA[
PKG_CHECK_MODULES([PROJECTDEPS], [ossie >= 2.0 omniORB4 >= 4.1.0])
]]></script></div>
<!--l. 74--><p class="noindent" >and add your library to the list of requirements. For example, if you need version 1.2.3 or greater of
the foo library:
<div class="minipage"><script type="syntaxhighlighter" class="brush: bash"><![CDATA[
PKG_CHECK_MODULES([PROJECTDEPS], [
  ossie >= 2.0
  omniORB4 >= 4.1.0
  foo >= 1.2.3
])
]]></script></div>
<!--l. 84--><p class="noindent" >If your pkg-config file is not on the pkg-config path, you can augment the pkg-config search path
by adding a line just before the call to PKG_CHECK_MODULES:
<div class="minipage"><script type="syntaxhighlighter" class="brush: bash"><![CDATA[
export PKG_CONFIG_PATH=/custom/path:$PKG_CONFIG_PATH
]]></script></div>
                                                                                         
                                                                                         
<!--l. 90--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.9.2   </span> <a 
 id="x6-870004.9.2"></a>Adding a Library Directly</h4>
<!--l. 91--><p class="noindent" >To add a library, edit the <span 
class="ectt-1200">Makefile.am </span>file in your component&#8217;s implementation directory. Append
compiler and linker flags to the end of the CXXFLAGS and LDADD lines, respectively. For
example:
<div class="minipage"><script type="syntaxhighlighter" class="brush: bash"><![CDATA[
MyComponent_CXXFLAGS += -I/usr/local/include/foo
MyComponent_LDADD += -L/usr/local/lib64 -lfoo
]]></script></div>
                                                                                         
                                                                                         
<!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="mainch5.html" >next</a>] [<a 
href="mainch3.html" >prev</a>] [<a 
href="mainch3.html#tailmainch3.html" >prev-tail</a>] [<a 
href="mainch4.html" >front</a>] [<a 
href="main.html#mainch4.html" >up</a>] </p></div>
<!--l. 1--><p class="noindent" ><a 
 id="tailmainch4.html"></a>   
 
<div class=license>  
<hr> 
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" /></a><br /><span xmlns:dct="http:// purl.org/dc/terms/" property="dct:title">REDHAWK Documentation</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>. 
 
</div></section></div> 
</body></html> 
