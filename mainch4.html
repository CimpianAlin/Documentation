<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>4 Components in Depth</title> 
<meta http-equiv="Content-Type" content="text/html; charset="utf-8""> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,2,next,javascript,charset="utf-8" --> 
<meta name="src" content="main.tex"> 
<link rel="stylesheet" type="text/css" href="main.css"> 
<script type="text/javascript" src="scripts/shCore.js"></script> 
<script type="text/javascript" src="scripts/shBrushCpp.js"></script> 
<script type="text/javascript" src="scripts/shBrushJava.js"></script> 
<script type="text/javascript" src="scripts/shBrushPython.js"></script> 
<script type="text/javascript" src="scripts/shBrushBash.js"></script> 
<script type="text/javascript" src="scripts/shBrushXml.js"></script> 
<link href="styles/shCore.css" rel="stylesheet" type="text/css" /> 
<link href="styles/shThemeDefault.css" rel="stylesheet" type="text/css" /> 
<script type="text/javascript"> 
SyntaxHighlighter.all() 
</script> 
 </head><body 
>
<link rel="icon" type="image/png" href="images/RedHawk_Logo16x.gif"> 
<script> 
function f() {  
document.getElementById('main_content_wrap').focus(); 
} 
if (window.addEventListener) { 
window.addEventListener("load", f, false); 
} else if (window.attachEvent) { 
window.attachEvent("onload", f); 
} 
</script> 
<div class="header"> 
<ul class="navbar"> 
<li><a class="logo-small" href="index.html"><img src="images/RedHawk_Logo_ALT_B_121px.png"/></a></li> <li><a href="index.html">Home</a></li> 
<li><a class="active" href="documentation.html">Documentation</a></li> 
<li><a href="download.html">Download</a></li> 
<li><a href="community.html">Community</a></li> 
</ul> 
<div class="pattern right"></div> 
<a id="forkme_banner" href="https://github.com/redhawksdr">View on GitHub</a> 
<noscript><div class ="NoScript">WARNING: JAVASCRIPT is not enabled. JAVASCRIPT is required for viewing code snippets.</div></noscript> 
</div> 
<!-- Custom MAIN CONTENT --> 
<div id="main_content_wrap" tabindex="0" class="outer"> 
<section id="main_content" class="inner"> 
<!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="mainch5.html" >next</a>] [<a 
href="mainch3.html" >prev</a>] [<a 
href="mainch3.html#tailmainch3.html" >prev-tail</a>] [<a 
href="#tailmainch4.html">tail</a>] [<a 
href="main.html#mainch4.html" >up</a>] </p></div>
<h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;4</span><br /><a 
 id="x6-380004"></a>Components in Depth</h2>
<h3 class="sectionHead"><span class="titlemark">4.1   </span> <a 
 id="x6-390004.1"></a>Introduction</h3>
<!--l. 4--><p class="noindent" >This chapter discusses more advanced topics related to <a 
href="mainli2.html#glo:component">Component</a> development. Prior to reading
this chapter, familiarize yourself with the information in <a 
href="mainch3.html#x5-180003">Chapter 3</a>.
<!--l. 1--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.2   </span> <a 
 id="x6-400004.2"></a>Auto-Generated Component Files</h3>
<!--l. 2--><p class="noindent" >The REDHAWK <a 
href="mainap14.html#ide">IDE</a> provides a tool for auto-generating <a 
href="mainli2.html#glo:component">Component</a> code for C++, Python, or
Java languages. This process takes care of REDHAWK compliance and allows the developer to
insert their own custom processing algorithm for working with the data sent/received by the
<a 
href="mainli2.html#glo:component">Component</a>. The following section provides a brief description of the generated files. Note that
some files may be freely modified, while other files should not be modified. For more information
on using the REDHAWK <a 
href="mainap14.html#ide">IDE</a>, refer to the REDHAWK <a 
href="mainap14.html#ide">IDE</a> chapters of this document (Starting
at <a 
href="mainch19.html#x21-35300019">Chapter 19</a>).
<!--l. 9--><p class="noindent" >Modifying particular files is discouraged for two reasons:
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x6-40002x1">If a user regenerates the <a 
href="mainli2.html#glo:component">Component</a> using the <a 
href="mainap14.html#ide">IDE</a> (for example, to add a <a 
href="mainli2.html#glo:port">Port</a>), particular
      files are overwritten by the code generators. <div class="admonition block note block-indent"><div class="note-inner"><p class="para block block-first">
           <ul class="itemize1">
           <li class="itemize">Files whose modification is not discouraged (e.g., <span 
class="ectt-1200">componentName.cpp</span>) are not
           impacted by such an action.
           </li>
           <li class="itemize">The REDHAWK <a 
href="mainap14.html#ide">IDE</a> provides the option of not rewriting particular files.</li></ul>
      </p></div></div>
      </li>
      <li 
  class="enumerate" id="x6-40004x2">Modification of files implementing REDHAWK interfaces may impact compatibility with
      other REDHAWK modules.</li></ol>
<!--l. 21--><p class="noindent" >The word <span 
class="ectt-1200">componentName </span>is replaced with the <a 
href="mainli2.html#glo:component">Component</a> name provided during <a 
href="mainli2.html#glo:component">Component</a>
creation.
                                                                                         
                                                                                         
<!--l. 23--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.2.1   </span> <a 
 id="x6-410004.2.1"></a>Files Generated for All Components</h4>
<!--l. 24--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.1.1   </span> <a 
 id="x6-420004.2.1.1"></a>Build-Related Files</h5>
<!--l. 26--><p class="noindent" >The code generators create the following files for building and installing the <a 
href="mainli2.html#glo:component">Component</a> using
Autotools:
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">build.sh </span>-  Two  of  these  files  are  generated:  one  of  them  resides  in  the  top-level
      <a 
href="mainli2.html#glo:component">Component</a> directory and the other resides in the source directory. The first of the two
      calls the <span 
class="ectt-1200">build.sh </span>script in the source directory.
      <!--l. 31--><p class="noindent" >The <span 
class="ectt-1200">build.sh </span>script in the source directory runs <span 
class="ectt-1200">./reconf; ./configure; make</span>. The
      Autotools documentation can provide more information on these commands: in short,
      this process creates the <a 
href="mainli2.html#glo:component">Component</a> executable.
      <!--l. 33--><p class="noindent" ><div class="admonition block note block-indent"><div class="note-inner"><p class="para block block-first">  If you use this script, you must install the dependency rpm-build by entering the following
      command: <span 
class="ectt-1200">sudo yum install rpm-build</span>. </p></div></div>
      </li>
      <li class="itemize"><span 
class="ectt-1200">configure.ac </span>- A standard Autoconf configuration file. Refer to the Autoconf
      documentation for more information.
      </li>
      <li class="itemize"><span 
class="ectt-1200">Makefile.am </span>- A standard Automake configuration file. Refer to the Automake
      documentation for more information.
      </li>
      <li class="itemize"><span 
class="ectt-1200">Makefile.am.ide </span>- Provides build information for the REDHAWK <a 
href="mainap14.html#ide">IDE</a>.
      </li>
      <li class="itemize"><span 
class="ectt-1200">reconf </span>- Script that is used to generate the configure script in the Autotools
      chain.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName.spec </span>- Provides <span 
class="ectt-1200">rpmbuild </span>configuration information for facilitating
                                                                                         
                                                                                         
      building <a 
href="mainap14.html#rpm">RPM</a>s for the <a 
href="mainli2.html#glo:component">Component</a>. Refer to the <a 
href="mainap14.html#rpm">RPM</a> documentation for more
      information.</li></ul>
<!--l. 45--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.1.2   </span> <a 
 id="x6-430004.2.1.2"></a>Component SCA XML Files</h5>
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">componentName.prf.xml </span>- Describes the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:property">Properties</a>. More information
      on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <span 
class="ectt-1200">prf.xml </span>file can be found in the <a 
href="mainap14.html#sca">SCA</a> specification.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName.scd.xml </span>-  Describes  the  <a 
href="mainli2.html#glo:component">Component</a>&#8217;s  <a 
href="mainli2.html#glo:port">Ports</a>  and  interfaces.  More
      information on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <span 
class="ectt-1200">scd.xml </span>file can be found in the <a 
href="mainap14.html#sca">SCA</a> specification.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName.spd.xml </span>-  Provides  a  top-level  description  of  the  <a 
href="mainli2.html#glo:component">Component</a>,
      including the names and locations of the <a 
href="mainli2.html#glo:component">Component</a> executable and <a 
href="mainap14.html#xml">XML</a> files. More
      information on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <span 
class="ectt-1200">spd.xml </span>file can be found in the <a 
href="mainap14.html#sca">SCA</a> specification.</li></ul>
<!--l. 53--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.2.1.3   </span> <a 
 id="x6-440004.2.1.3"></a>Unit Tests File</h5>
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">test_componentName.py </span>- Contains a unit test built on the standard Python <span 
class="ectt-1200">unittest</span>
      Framework. The provided test exercises the generated code. Additional tests may be
      added for testing algorithms produced by the developer. For more information on how
      to add unit tests, consult the Python <span 
class="ectt-1200">unittest </span>Framework documentation.
      <!--l. 58--><p class="noindent" >To   run   the   unit   test(s),   simply   execute   the   file   from   the   command-line
      <span 
class="ectt-1200">./test_componentName.py</span>.
      </li></ul>
                                                                                         
                                                                                         
<!--l. 62--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.2.2   </span> <a 
 id="x6-450004.2.2"></a>Files Generated for C++ Components</h4>
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">main.cpp </span>-  Contains  the  main  routine  for  the  process  that  is  started  when  the
      <a 
href="mainli2.html#glo:component">Component</a> is instantiated. Modification of this file is not recommended.
      </li>
      <li class="itemize"><span 
class="ectt-1200">port_impl.h </span>- Contains the <a 
href="mainli2.html#glo:port">Port</a>-related code for the <a 
href="mainli2.html#glo:component">Component</a>. Modification of this
      file is discouraged.
      </li>
      <li class="itemize"><span 
class="ectt-1200">port_impl.cpp </span>- Contains the <a 
href="mainli2.html#glo:port">Port</a>-related code for the <a 
href="mainli2.html#glo:component">Component</a>. Modification of
      this file is discouraged.
      </li>
      <li class="itemize"><span 
class="ectt-1200">struct_props.h </span>- Contains support classes for struct <a 
href="mainli2.html#glo:property">Properties</a> that are defined in
      the code-generation interface. Modification of this file is discouraged.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName.h </span>- The appropriate place to put header-related code in support of
      <span 
class="ectt-1200">componentName.cpp</span>.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName.cpp </span>- The appropriate place for developers to add their own processing
      behavior.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName_base.h </span>- Provides interface implementations for the <a 
href="mainli2.html#glo:component">Component</a> based
      on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:port">Ports</a> and <a 
href="mainli2.html#glo:property">Properties</a>. Most of the <a 
href="mainli2.html#glo:port">Port</a>-related interface code
      resides in <span 
class="ectt-1200">port_impl.h/cpp</span>. Modification of <span 
class="ectt-1200">componentName_base.h </span>is discouraged.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName_base.cpp </span>- Provides interface implementations for the <a 
href="mainli2.html#glo:component">Component</a>
      based on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:port">Ports</a> and <a 
href="mainli2.html#glo:property">Properties</a>. Most of the <a 
href="mainli2.html#glo:port">Port</a>-related interface code
      resides in <span 
class="ectt-1200">port_impl.h/cpp</span>. Modification of <span 
class="ectt-1200">componentName_base.cpp </span>is discouraged.</li></ul>
<!--l. 75--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.2.3   </span> <a 
 id="x6-460004.2.3"></a>Files Generated for Python Components</h4>
                                                                                         
                                                                                         
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">componentName.py </span>- The appropriate place for developers to add their own processing
      behavior.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName_base.py </span>-  Provides  interface  implementations  for  the  <a 
href="mainli2.html#glo:component">Component</a>
      based on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:port">Ports</a> and <a 
href="mainli2.html#glo:property">Properties</a>. Modification of this file is discouraged.</li></ul>
<!--l. 82--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.2.4   </span> <a 
 id="x6-470004.2.4"></a>Files Generated for Java Components</h4>
      <ul class="itemize1">
      <li class="itemize"><span 
class="ectt-1200">startJava.sh </span>- Script containing the process that is started when the <a 
href="mainli2.html#glo:component">Component</a> is
      instantiated.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName.java </span>-  The  appropriate  place  for  developers  to  add  their  own
      processing behavior.
      </li>
      <li class="itemize"><span 
class="ectt-1200">componentName_base.java </span>- Provides interface implementations for the <a 
href="mainli2.html#glo:component">Component</a>
      based on the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:port">Ports</a> and <a 
href="mainli2.html#glo:property">Properties</a>. Modification of this file is discouraged.</li></ul>
<!--l. 91--><p class="noindent" ><div class="admonition block note block-indent"><div class="note-inner"><p class="para block block-first"> If <span 
class="ectt-1200">componentName.java </span>is not regenerated when migrating from 1.8 to 1.10, the <a 
href="mainli2.html#glo:component">Component</a>
does not inherit from the base class, so it does not take advantage of the new code
pattern. In addition, in order for the <a 
href="mainli2.html#glo:component">Component</a> to build, the method <span 
class="ectt-1200">configureOrb</span>
must be added to <span 
class="ectt-1200">componentName.java </span>because the base class makes a call on that
method.
<!--l. 94--><p class="noindent" >If you want to inherit from the base class and take advantage of the new pattern, save off the
custom main class Java file, regenerate the main Java class to get the new 1.10 code
pattern, and for example, move source from the run() method to the serviceFunction()
method to integrate the custom code in the 1.8 main class into the new main class. </p></div></div>
<!--l. 97--><p class="noindent" ><div class="admonition block caution block-indent"><div class="caution-inner"><p class="para block block-first">  If <span 
class="ectt-1200">componentName.java </span>is regenerated, any custom code added to it is removed. </p></div></div>
                                                                                         
                                                                                         
<!--l. 101--><p class="noindent" >Add this class to the <span 
class="ectt-1200">componentName.java </span>right before the last line which is "}"
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
     /**
      * Set additional options for ORB startup. For example:
      *
      *   orbProps.put("com.sun.CORBA.giop.ORBFragmentSize",
      *                          Integer.toString(fragSize));
      *
      * @param orbProps
      */
     public static void configureOrb(final Properties orbProps) {
     }
]]></script></div>
<!--l. 1--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.3   </span> <a 
 id="x6-480004.3"></a>Auto-Generated Component Methods</h3>
<!--l. 3--><p class="noindent" >This section provides an overview of noteworthy methods provided in the auto-generated
<a 
href="mainli2.html#glo:component">Component</a> files. In some cases, the names of the methods vary by language.
<!--l. 6--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.3.1   </span> <a 
 id="x6-490004.3.1"></a><span 
class="ectt-1200">serviceFunction()</span></h4>
<!--l. 7--><p class="noindent" >The core functionality of a <a 
href="mainli2.html#glo:component">Component</a> resides in the <span 
class="ectt-1200">serviceFunction() </span>method in C++, the
<span 
class="ectt-1200">process() </span>method in Python, and the <span 
class="ectt-1200">serviceFunction() </span>method in Java.
<!--l. 9--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.3.2   </span> <a 
 id="x6-500004.3.2"></a><span 
class="ectt-1200">construct()</span></h4>
<!--l. 10--><p class="noindent" >Found within a C++ <a 
href="mainli2.html#glo:component">Component</a>&#8217;s base class, the <span 
class="ectt-1200">construct() </span>method initializes the <a 
href="mainli2.html#glo:port">Ports</a> and
loads the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s default <a 
href="mainli2.html#glo:property">Property</a> values. For Java <a 
href="mainli2.html#glo:component">Components</a>, similar behavior occurs in
the constructor. Within a Python <a 
href="mainli2.html#glo:component">Component</a>, <a 
href="mainli2.html#glo:port">Ports</a> are initialized in the <span 
class="ectt-1200">initialize()</span>
method.
                                                                                         
                                                                                         
<!--l. 14--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.3.3   </span> <a 
 id="x6-510004.3.3"></a><span 
class="ectt-1200">initialize()</span></h4>
<!--l. 15--><p class="noindent" >Found within Python <a 
href="mainli2.html#glo:component">Components</a>, the <span 
class="ectt-1200">initialize() </span>method initializes any variables
relevant to the core functional code. In C++, the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s constructor should be
used for initializing these variables, although a blank <span 
class="ectt-1200">initialize() </span>method is still
generated in the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s base class. Java <a 
href="mainli2.html#glo:component">Components</a> do not have an auto-generated
<span 
class="ectt-1200">initialize() </span>function and thus, rely on the one inherited from the <span 
class="ectt-1200">Resource </span>base
class.
<!--l. 19--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.3.4   </span> <a 
 id="x6-520004.3.4"></a><span 
class="ectt-1200">start()</span></h4>
<!--l. 20--><p class="noindent" >Found within both C++ and Python <a 
href="mainli2.html#glo:component">Components</a>&#8217; base classes, the <span 
class="ectt-1200">start() </span>method creates the
main processing thread that then makes a call to <span 
class="ectt-1200">run()</span>. Java <a 
href="mainli2.html#glo:component">Components</a> do not have an
auto-generated <span 
class="ectt-1200">start() </span>function and thus, rely on the one inherited from the <span 
class="ectt-1200">Resource </span>base class.
The <span 
class="ectt-1200">start() </span>method is called automatically by the <a 
href="mainli2.html#glo:assemblycontroller">Assembly Controller</a> <a 
href="mainli2.html#glo:component">Component</a> in the
<a 
href="mainli2.html#glo:application">Application</a>.
<!--l. 24--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.3.5   </span> <a 
 id="x6-530004.3.5"></a><span 
class="ectt-1200">run()</span></h4>
<!--l. 25--><p class="noindent" >Found within a Python <a 
href="mainli2.html#glo:component">Component</a>&#8217;s base class, a Java <a 
href="mainli2.html#glo:component">Component</a>&#8217;s base class, and a C++
<a 
href="mainli2.html#glo:component">Component</a>&#8217;s base header file. The <span 
class="ectt-1200">run() </span>method makes continuous calls to a C++ or Java
<a 
href="mainli2.html#glo:component">Component</a>&#8217;s <span 
class="ectt-1200">serviceFunction()</span>, which is the main piece of executable code that defines the
<a 
href="mainli2.html#glo:component">Component</a>&#8217;s core functionality. In Python, the <span 
class="ectt-1200">run() </span>method makes continuous calls to the
<a 
href="mainli2.html#glo:component">Component</a>&#8217;s <span 
class="ectt-1200">process() </span>method. The <span 
class="ectt-1200">run() </span>method handles various return states generated by
the <span 
class="ectt-1200">serviceFunction()</span>.
<!--l. 27--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.3.6   </span> <a 
 id="x6-540004.3.6"></a><span 
class="ectt-1200">pushPacket() </span>and <span 
class="ectt-1200">pushSRI()</span></h4>
<!--l. 28--><p class="noindent" >Found within a C++ <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <span 
class="ectt-1200">port_impl.h/cpp </span>files, a Python <a 
href="mainli2.html#glo:component">Component</a>&#8217;s base class, and
files within a Java <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <span 
class="ectt-1200">ports </span>package. The <span 
class="ectt-1200">pushPacket() </span>and <span 
class="ectt-1200">pushSRI()</span>
methods are <a 
href="mainap14.html#corba">CORBA</a>-enabled <a 
href="mainap14.html#rpc">RPC</a>s used for data and metadata transfer between <a 
href="mainap14.html#bulkio">BulkIO</a>
<a 
href="mainli2.html#glo:port">Ports</a>.
                                                                                         
                                                                                         
<!--l. 30--><p class="noindent" >Both methods are called within the <span 
class="ectt-1200">serviceFunction() </span>(<span 
class="ectt-1200">process() </span>in the case of Python)
whenever a new data packet needs to be sent, or the metadata (Signal Related Information (<a 
href="mainap14.html#sri">SRI</a>))
is updated by the <a 
href="mainli2.html#glo:component">Component</a>.
<!--l. 32--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.3.7   </span> <a 
 id="x6-550004.3.7"></a><span 
class="ectt-1200">stop()</span></h4>
<!--l. 33--><p class="noindent" >Found within both the C++ and Python <a 
href="mainli2.html#glo:component">Components</a>&#8217; base classes, the <span 
class="ectt-1200">stop() </span>method releases
and destroys the main processing thread. Java <a 
href="mainli2.html#glo:component">Components</a> do not have an auto-generated
<span 
class="ectt-1200">stop() </span>function and thus, rely on the one inherited from the <span 
class="ectt-1200">Resource </span>base class. When
an <a 
href="mainli2.html#glo:application">Application</a> is released, all of the <a 
href="mainli2.html#glo:application">Application</a>&#8217;s <a 
href="mainli2.html#glo:component">Components</a> are released, and each
<a 
href="mainli2.html#glo:component">Component</a>&#8217;s stop() method is invoked. The <span 
class="ectt-1200">releaseObject() </span>method in turn calls the <span 
class="ectt-1200">stop()</span>
method.
<!--l. 38--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.3.8   </span> <a 
 id="x6-560004.3.8"></a><span 
class="ectt-1200">configure()</span></h4>
<!--l. 39--><p class="noindent" >The <span 
class="ectt-1200">configure() </span>method is used by the REDHAWK Core Framework and is discussed in more
detail in <a 
href="#x6-920004.8.2.5">Section 4.8.2.5</a>. <a 
href="mainli2.html#glo:component">Components</a> of all three languages inherit the <span 
class="ectt-1200">configure() </span>method from
their respective <span 
class="ectt-1200">Resource </span>classes. When a <a 
href="mainli2.html#glo:waveformapplication">Waveform</a> is launched, the <span 
class="ectt-1200">configure() </span>call updates
any <a 
href="mainli2.html#glo:component">Component</a> <a 
href="mainli2.html#glo:property">Properties</a> that have definitions in the <a 
href="mainli2.html#glo:waveformapplication">Waveform</a>&#8217;s Software Assembly
Descriptor (<a 
href="mainap14.html#sad">SAD</a>) file. At runtime, <span 
class="ectt-1200">configure() </span>is called whenever a change to a <a 
href="mainli2.html#glo:property">Property</a> is
made.
<!--l. 1--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.4   </span> <a 
 id="x6-570004.4"></a>Component Implementations</h3>
<!--l. 3--><p class="noindent" ><a 
href="mainli2.html#glo:component">Components</a> may specify particular dependencies such as Operating System (<a 
href="mainap14.html#os">OS</a>), processor
architecture, or required <a 
href="mainli2.html#glo:device">Device</a> <a 
href="mainli2.html#glo:property">Properties</a> (e.g., processor speed or memory capacity). Setting
these dependencies ensures that a <a 
href="mainli2.html#glo:component">Component</a> is deployed to an appropriate <a 
href="mainli2.html#glo:device">Device</a> at
runtime.
<!--l. 2--><p class="noindent" >
                                                                                         
                                                                                         
<h3 class="sectionHead"><span class="titlemark">4.5   </span> <a 
 id="x6-580004.5"></a>BulkIO Data Queuing</h3>
<!--l. 4--><p class="noindent" >Generated <a 
href="mainli2.html#glo:port">Port</a> code implements a design pattern allowing data to be put onto a queue by the uses
(output) <a 
href="mainli2.html#glo:port">Port</a>. This queue is read by the provides (input) <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <span 
class="ectt-1200">serviceFunction()</span>. The
queue fails if the number of packets exceeds the <span 
class="ectt-1200">maxQueueDepth </span>setting for the <a 
href="mainli2.html#glo:port">Port</a>. In the event
of a queue overflow, the queue is flushed. On an overflow-induced flush, the <span 
class="ectt-1200">getPacket() </span>method
sets <span 
class="ectt-1200">inputQueueFlushed </span>to <span 
class="ectt-1200">true</span>.
<!--l. 10--><p class="noindent" >Increasing the <a 
href="mainli2.html#glo:port">Port</a>&#8217;s <span 
class="ectt-1200">maxQueueDepth </span>value may alleviate buffer overflow problems. If you have
changed the <span 
class="ectt-1200">maxQueueDepth</span>, a regeneration of a <a 
href="mainli2.html#glo:component">Component</a> overwrites that value. As an
alternative to setting <span 
class="ectt-1200">maxQueueDepth </span>directly, consider using the method associated with the <a 
href="mainli2.html#glo:port">Port</a>
named <span 
class="ectt-1200">setMaxQueueDepth() </span>that can be called in the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s constructor to set the
maximum queue size.
<!--l. 1--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.6   </span> <a 
 id="x6-590004.6"></a><span 
class="ectt-1200">CORBA::Any </span>and SRI Keywords</h3>
<!--l. 3--><p class="noindent" >Most <a 
href="mainap14.html#corba">CORBA</a> interaction is abstracted from the developer by the REDHAWK Core Framework;
however, with some knowledge of <a 
href="mainap14.html#corba">CORBA</a>, a <a 
href="mainli2.html#glo:component">Component</a> developer gains additional freedom in the
use of REDHAWK. One example of the more direct use of <a 
href="mainap14.html#corba">CORBA</a> is the manipulation of
<span 
class="ectt-1200">CORBA::Any </span>types for access to <a 
href="mainap14.html#sri">SRI</a> Keywords.
<!--l. 6--><p class="noindent" >This section provides examples, in C++, Python and Java, of how to manipulate <span 
class="ectt-1200">CORBA::Any</span>
types, how to add <a 
href="mainap14.html#sri">SRI</a> keywords, how to verify <a 
href="mainap14.html#sri">SRI</a> keywords, and how this knowledge can be
applied to the manipulation of <a 
href="mainap14.html#sri">SRI</a>.
<!--l. 8--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.6.1   </span> <a 
 id="x6-600004.6.1"></a>Manipulating <span 
class="ectt-1200">CORBA::Any </span>Types</h4>
<!--l. 9--><p class="noindent" >This section provides examples of how to set and get <span 
class="ectt-1200">CORBA::Any </span>values in C++, Python, and
Java.
<!--l. 11--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.6.1.1   </span> <a 
 id="x6-610004.6.1.1"></a>C++ Implementation</h5>
<!--l. 12--><p class="noindent" >The following code is an example of how to set a value in a <span 
class="ectt-1200">CORBA::Any </span>in C++:
                                                                                         
                                                                                         
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
CORBA::Any anyVar;
CORBA::Long longVar = 1000;
anyVar &lt;&lt;= longVar;
]]></script></div>
<!--l. 20--><p class="noindent" >The following code is an example of how to get a value from a <span 
class="ectt-1200">CORBA::Any </span>in C++:
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
// variable named "anyVar" of type CORBA::Any has already
// been defined with a value
CORBA::Long longVar;
anyVar &gt;&gt;= longVar;
]]></script></div>
<!--l. 29--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.6.1.2   </span> <a 
 id="x6-620004.6.1.2"></a>Python Implementation</h5>
<!--l. 31--><p class="noindent" >The following code is an example of how to set a value in a <span 
class="ectt-1200">CORBA::Any </span>in Python:
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
from omniORB import any
longVar = 1000
anyVar = any.to_any(longVar)
]]></script></div>
<!--l. 38--><p class="noindent" >The following code is an example of how to get a value from a <span 
class="ectt-1200">CORBA::Any </span>in Python:
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
longVar = any.from_any(anyVar)
]]></script></div>
<!--l. 43--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.6.1.3   </span> <a 
 id="x6-630004.6.1.3"></a>Java Implementation</h5>
<!--l. 44--><p class="noindent" >The following code is an example of how to set a value in a <span 
class="ectt-1200">CORBA::Any </span>in Java:
                                                                                         
                                                                                         
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
import org.ossie.properties.AnyUtils;
import org.omg.CORBA.Any;
import org.omg.CORBA.TCKind;

long longVar = 1000L;
Any anyVar = AnyUtils.toAny(longVar,TCKind.tk_long);
]]></script></div>
<!--l. 54--><p class="noindent" >The following code is an example of how to get a value from a <span 
class="ectt-1200">CORBA::Any </span>in Java:
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
longVar = (Integer)AnyUtils.convertAny(anyVar);
]]></script></div>
<!--l. 60--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.6.2   </span> <a 
 id="x6-640004.6.2"></a>Adding SRI Keywords in C++, Python, and Java</h4>
<!--l. 61--><p class="noindent" >Given a <a 
href="mainli2.html#glo:component">Component</a> with simple <a 
href="mainli2.html#glo:property">Properties</a> <span 
class="ectt-1200">chan_rf </span>and <span 
class="ectt-1200">col_rf </span>that are of type double and have
an initial value of <span 
class="ectt-1200">-1</span>, and a <a 
href="mainap14.html#bulkio">BulkIO</a> StreamSRI instance named <span 
class="ectt-1200">sri</span>, here are implementations in
C++, Python and Java, of pushing out those <a 
href="mainli2.html#glo:property">Property</a> values as the keywords <span 
class="ectt-1200">COL_RF </span>and
<span 
class="ectt-1200">CHAN_RF</span>.
<!--l. 63--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.6.2.1   </span> <a 
 id="x6-650004.6.2.1"></a>C++ Implementation</h5>
                                                                                         
                                                                                         
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
sri.keywords.length(0);
int index = 0;

if (this->chan_rf != -1.0) {
    sri.keywords.length(index + 1);
    sri.keywords[index].id = "CHAN_RF";
    sri.keywords[index].value &lt;&lt;= this->chan_rf;
    index++;
}

if (this->col_rf != -1.0) {
    sri.keywords.length(index + 1);
    sri.keywords[index].id = "COL_RF";
    sri.keywords[index].value &lt;&lt;= this->col_rf;
    index++;
}
]]></script></div>
<!--l. 83--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.6.2.2   </span> <a 
 id="x6-660004.6.2.2"></a>Python Implementation</h5>
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
keywords = []
if self.chan_rf != -1:
    keywords.append(CF.DataType("CHAN_RF", any.to_any(self.chan_rf)))
if self.col_rf != -1:
    keywords.append(CF.DataType("COL_RF", any.to_any(self.col_rf)))
self.sri.keywords = keywords
]]></script></div>
<!--l. 93--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.6.2.3   </span> <a 
 id="x6-670004.6.2.3"></a>Java Implementation</h5>
                                                                                         
                                                                                         
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
double chan_rf = this.chan_rf.getValue();
double col_rf = this.col_rf.getValue();
int count = 0;
if (chan_rf != -1) {
    count++;
}
if (col_rf != -1) {
    count++;
}
sri.keywords = new DataType[count];
int index = 0;
if (chan_rf != -1) {
    sri.keywords[index] = new DataType("CHAN_RF", AnyUtils.toAny(chan_rf, TCKind.tk_double));
    index++;
}
if (col_rf != -1) {
    sri.keywords[index] = new DataType("COL_RF", AnyUtils.toAny(col_rf, TCKind.tk_double));
    index++;
}
]]></script></div>
<!--l. 116--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.6.3   </span> <a 
 id="x6-680004.6.3"></a>Verifying SRI Keywords</h4>
<!--l. 118--><p class="noindent" >It is possible to verify the keywords and values being pushed out by connecting a <span 
class="ectt-1200">DataSink()</span>
<a 
href="mainli2.html#glo:component">Component</a> in the Python <a 
href="mainli2.html#glo:Sandbox">Sandbox</a>. This assumes there is at least one <a 
href="mainap14.html#bulkio">BulkIO</a> output <a 
href="mainli2.html#glo:port">Port</a> for the
test <a 
href="mainli2.html#glo:component">Component</a>, and a <span 
class="ectt-1200">pushSRI() </span>call is made on that <a 
href="mainli2.html#glo:port">Port</a>. The following code demonstrates this
verification:
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
&gt;&gt;> from ossie.utils import sb
&gt;&gt;> comp = sb.launch("<component name>")
&gt;&gt;> sink = sb.DataSink()
&gt;&gt;> comp.connect(sink)
&gt;&gt;> sb.start()
&gt;&gt;> print sink.sri().keywords
]]></script></div>
                                                                                         
                                                                                         
<!--l. 129--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.6.4   </span> <a 
 id="x6-690004.6.4"></a>Working with SRI in C++</h4>
<!--l. 131--><p class="noindent" >Here is a useful example in C++ of a template function that allows the addition or modification of
<a 
href="mainap14.html#sri">SRI</a> keywords of different types. The keywords are <span 
class="ectt-1200">CORBA::String_member </span>and <span 
class="ectt-1200">CORBA::Any</span>
<span 
class="ectt-1200">pairs</span>.
<!--l. 133--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.6.4.1   </span> <a 
 id="x6-700004.6.4.1"></a>Adding a Modified SRI Keyword to the SRI</h5>
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
template <typename CORBAXX> bool addModifyKeyword(
      BULKIO::StreamSRI *sri,
      CORBA::String_member id,
      CORBAXX myValue,
      bool addOnly = false) {
         unsigned long keySize = sri->keywords.length();
         if (!addOnly) {
              for (unsigned int i = 0; i < keySize; i++) {
                   if (!strcmp(sri->keywords[i].id, id)) {
                        sri->keywords[i].value &lt;&lt;= myValue;
                        return true;
                   }
              }
         }
         sri->keywords.length(keySize + 1);
         if (sri->keywords.length() != keySize + 1)
              return false;
         sri->keywords[keySize].id = CORBA::string_dup(id);
         sri->keywords[keySize].value &lt;&lt;= myValue;
         return true;
}
]]></script></div>
<!--l. 159--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.6.4.2   </span> <a 
 id="x6-710004.6.4.2"></a>Getting a Keyword Position from an ID</h5>
                                                                                         
                                                                                         
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
int getKeywordPos(BULKIO::StreamSRI *sri,
  CORBA::String_member id) {
     for (unsigned int i = 0; i < sri->keywords.length();
       i++) {
         if (!strcmp(sri->keywords[i].id, id)) {
              return i;
         }
     }
     return -1;
}
]]></script></div>
<!--l. 174--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.6.4.3   </span> <a 
 id="x6-720004.6.4.3"></a>Getting a Keyword Value from an ID</h5>
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
template <typename MYTYPE> MYTYPE getKeywordValueByID(
  BULKIO::StreamSRI *sri, CORBA::String_member id) {
     MYTYPE value;
     for (unsigned int i = 0; i < sri->keywords.length();
       i++) {
         if (!strcmp(sri->keywords[i].id, id)) {
              sri->keywords[i].value &gt;&gt;= value;
              return value;
         }
     }
     return value;
}
]]></script></div>
<!--l. 191--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.6.4.4   </span> <a 
 id="x6-730004.6.4.4"></a>Getting a Keyword Value Given a Position</h5>
                                                                                         
                                                                                         
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
template <typename MYTYPE> MYTYPE getKeywordValueAtPos(
  BULKIO::StreamSRI *sri, int pos) {
     MYTYPE value;
     if (pos >= 0 && pos < (int)sri->keywords.length()) {
         sri->keywords[pos].value &gt;&gt;= value;
     }
     return value;
}
]]></script></div>
<!--l. 1--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.7   </span> <a 
 id="x6-740004.7"></a>Properties in Depth</h3>
<!--l. 3--><p class="noindent" >Properties are defined by their structure and contents. The structure of a property may be of type
Simple, Simple Sequence, Struct, or Struct sequences. The contents of these structures may be one
of many primitive types, such as "string" or "float". In addition, the contents of the property
structure may be a complex number, which is composed of a real primitive component and an
imaginary primitive component.
<!--l. 8--><p class="noindent" >Through the use of generated code and the REDHAWK libraries, manipulation of properties is
typically accomplished using fundamental types provided by C++, Python, or Java. For
example, a Simple Sequence, complex-float property is manipulated via a std::vector&#x003C;
std::complex&#x003C;float&#x003E; &#x003E; variable in C++ and a list of Python complex objects in Python.
Generated <a 
href="mainli2.html#glo:component">Component</a> code provides a class data field representing each property for that
<a 
href="mainli2.html#glo:component">Component</a>.
<!--l. 12--><p class="noindent" >In most cases, creation of <a 
href="mainli2.html#glo:component">Component</a> properties is automated via the REDHAWK code
generators, and use/manipulation of the property within the <a 
href="mainli2.html#glo:component">Component</a> is trivial. However,
developers may have a need for more customized behavior; therefore, this section provides a more
in-depth description of the generated code. In most cases, complex properties are discussed in
alternative to primitive properties, as primitive properties are implemented in a very similar
manner (though simplified by using language-native numeric types instead of complex
types).
<!--l. 15--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.7.1   </span> <a 
 id="x6-750004.7.1"></a>Supported Primitive Types</h4>
                                                                                         
                                                                                         
<!--l. 16--><p class="noindent" >The following primitive data types (either as Simples or Simple Sequences) are supported:
      <ul class="itemize1">
      <li class="itemize">boolean
      </li>
      <li class="itemize">octet
      </li>
      <li class="itemize">float
      </li>
      <li class="itemize">double
      </li>
      <li class="itemize">short
      </li>
      <li class="itemize">ushort
      </li>
      <li class="itemize">long
      </li>
      <li class="itemize">longlong
      </li>
      <li class="itemize">ulong
      </li>
      <li class="itemize">ulongong
      </li>
      <li class="itemize">string
      </li>
      <li class="itemize">objref
      </li>
      <li class="itemize">char</li></ul>
                                                                                         
                                                                                         
<!--l. 35--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.7.2   </span> <a 
 id="x6-760004.7.2"></a>Supported Complex Types</h4>
<!--l. 36--><p class="noindent" >The following data types (either as Simples or Simple Sequences) may be set to complex:
      <ul class="itemize1">
      <li class="itemize">boolean
      </li>
      <li class="itemize">octet
      </li>
      <li class="itemize">float
      </li>
      <li class="itemize">double
      </li>
      <li class="itemize">short
      </li>
      <li class="itemize">ushort
      </li>
      <li class="itemize">long
      </li>
      <li class="itemize">longlong
      </li>
      <li class="itemize">ulong
      </li>
      <li class="itemize">ulongong</li></ul>
<!--l. 51--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.7.3   </span> <a 
 id="x6-770004.7.3"></a>Representation in XML</h4>
<!--l. 52--><p class="noindent" >Although the REDHAWK <a 
href="mainap14.html#ide">IDE</a> supports the creation of appropriate <a 
href="mainap14.html#xml">XML</a> elements in the
<a 
href="mainli2.html#glo:component">Component</a> PRF file, <a 
href="mainap14.html#xml">XML</a> tags may be edited through other means.
<!--l. 54--><p class="noindent" >A Simple property element takes the form:
                                                                                         
                                                                                         
<div class="minipage"><script type="syntaxhighlighter" class="brush: xml"><![CDATA[
  <simple id="complexULongLong" mode="readwrite" type="ulonglong">
     <value>4</value>
     <kind kindtype="configure"/>
     <action type="external"/>
  </simple>
]]></script></div>
<!--l. 64--><p class="noindent" >A Simple complex property element takes the form:
<div class="minipage"><script type="syntaxhighlighter" class="brush: xml"><![CDATA[
  <simple id="complexULongLong" mode="readwrite"
            type="ulonglong" complex="true">
     <value>4+j5</value>
     <kind kindtype="configure"/>
     <action type="external"/>
  </simple>
]]></script></div>
<!--l. 75--><p class="noindent" ><div class="admonition block note block-indent"><div class="note-inner"><p class="para block block-first"> The presence of a &#x003C;complex&#x003E; attribute (set to "true") and the presence of "+j" in the &#x003C;value&#x003E;
element distinguishes a complex property from a primitive property. The &#x003C;value&#x003E; element must
follow the A+jB format strictly, where "A" corresponds to the real component of the complex
value, and "B" corresponds to the imaginary component of the complex value. As an
exception, a value of "A" is acceptable if the imaginary component is equal to 0, and a value
of "jB" is acceptable if the real component is equal to 0. Also, complex values with
negative imaginary components must be expressed as "A-jB", in alternative to "A+j-B". </p></div></div>
<!--l. 82--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.7.4   </span> <a 
 id="x6-780004.7.4"></a>C++ Resource Code</h4>
<!--l. 84--><p class="noindent" ><a 
href="#x6-78001r1">Table 4.1</a> shows the mapping of C++ data types to their corresponding <a 
href="mainap14.html#bulkio">BulkIO</a> types:
<div class="table">
                                                                                         
                                                                                         
<!--l. 85--><p class="noindent" ><a 
 id="x6-78001r1"></a><hr class="float"><div class="float" 
><table class="float"><tr class="float"><td class="float" 
>
                                                                                         
                                                                                         
<div class="tabular"> <table id="TBL-2" class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-2-1g"><col 
id="TBL-2-1"></colgroup><colgroup id="TBL-2-2g"><col 
id="TBL-2-2"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-1-1"  
class="td11"> <a 
href="mainap14.html#bulkio"><span 
class="ecbx-1200">BulkIO</span></a> <span 
class="ecbx-1200">Type </span></td><td  style="white-space:wrap; text-align:left;" id="TBL-2-1-2"  
class="td11"> <!--l. 89--><p class="noindent" ><span 
class="ecbx-1200">C++ Type</span>                         </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-2-1"  
class="td11"> dataBoolean      </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-2-2"  
class="td11"> <!--l. 91--><p class="noindent" >bool                                       </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-3-1"  
class="td11"> dataOctet </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-3-2"  
class="td11"> <!--l. 92--><p class="noindent" >octet</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-4-1"  
class="td11"> dataFloat          </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-4-2"  
class="td11"> <!--l. 93--><p class="noindent" >float                                       </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-2-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-5-1"  
class="td11"> dataDouble </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-5-2"  
class="td11"> <!--l. 94--><p class="noindent" >double</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-6-1"  
class="td11"> dataShort         </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-6-2"  
class="td11"> <!--l. 95--><p class="noindent" >short                                      </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-7-1"  
class="td11"> dataUshort        </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-7-2"  
class="td11"> <!--l. 96--><p class="noindent" >unsigned short                          </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-8-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-8-1"  
class="td11"> dataLong          </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-8-2"  
class="td11"> <!--l. 97--><p class="noindent" >CORBA::Long                          </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-9-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-9-1"  
class="td11"> dataLongLong   </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-9-2"  
class="td11"> <!--l. 98--><p class="noindent" >CORBA::LongLong                   </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-10-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-10-1"  
class="td11"> dataUlong         </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-10-2"  
class="td11"> <!--l. 99--><p class="noindent" >CORBA::ULong                        </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-2-11-"><td  style="white-space:nowrap; text-align:left;" id="TBL-2-11-1"  
class="td11"> dataUlongLong  </td><td  style="white-space:wrap; text-align:left;" id="TBL-2-11-2"  
class="td11"> <!--l. 100--><p class="noindent" >CORBA::ULongLong                 </td></tr></table></div>
<br /> <table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Table&#x00A0;4.1: </td><td  
class="content">Mapping of <a 
href="mainap14.html#bulkio">BulkIO</a> Data Type to C++ Type</td></tr></table><!--tex4ht:label?: x6-78001r1 -->
                                                                                         
                                                                                         
</td></tr></table></div><hr class="endfloat" />
</div>
<!--l. 105--><p class="noindent" >In C++, a std::complex value sets/gets complex properties. For example, a complex float property
is represented as std::complex&#x003C;float&#x003E;.
<h5 class="subsubsectionHead"><span class="titlemark">4.7.4.1   </span> <a 
 id="x6-790004.7.4.1"></a>exampleComponent_base.h</h5>
<!--l. 110--><p class="noindent" >The following examples of the generated initialization of variables represent a complex float
property and a complex float sequence property.
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
std::complex<float>  complexFloatProp;
std::vector<std::complex<float> > complexFloatSequence;
]]></script></div>
<!--l. 117--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.7.4.2   </span> <a 
 id="x6-800004.7.4.2"></a>exampleComponent_base.cpp</h5>
<!--l. 118--><p class="noindent" >Autogenerated initialization code is created in the <span 
class="ectt-1200">loadProperties </span>method.
<!--l. 120--><p class="noindent" >The API for the addProperty method when using complex types is the same as the addProperty
method used for primitive-type properties; however, the default value for the property must be a
std::complex value of the appropriate primitive type. For example, a complex float property
represented by the variable <span 
class="ectt-1200">complexFloatProperty </span>with a default value of <span 
class="ectt-1200">4.0+j5.0 </span>is added
using:
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
addProperty(complexFloatProp,
              std::complex<float> (4.0,5.0),
              "complexULongProp",
              "",
              "readwrite",
              "",
              "external",
              "configure");
]]></script></div>
<!--l. 134--><p class="noindent" >To initialize complex sequence properties, the same approach is used with the exception that the
initial value is a std::vector.
                                                                                         
                                                                                         
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
complexFloatSequence.push_back(std::complex<float> (4.0,5.0));
addProperty(complexFloatSequence,
              complexFloatSequence,
              "complexFloatSequence",
              "",
              "readwrite",
              "",
              "external",
              "configure");
]]></script></div>
<!--l. 148--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.7.5   </span> <a 
 id="x6-810004.7.5"></a>Python Resource Code</h4>
<!--l. 150--><p class="noindent" >To set/get complex properties in Python, use the Python complex module. For example, a complex
float property value can be set using either of the following methods:
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
myComplexValue = complex(1.0, 2.0)
myComplexValue = 1+2j
]]></script></div>
<!--l. 158--><p class="noindent" >As with primitive types, the Python data types listed in <a 
href="#x6-81001r2">Table 4.2</a> are used in conjunction
with their corresponding types. Of course, explicit typing of variables is unnecessary in
Python.
<div class="table">
                                                                                         
                                                                                         
<!--l. 161--><p class="noindent" ><a 
 id="x6-81001r2"></a><hr class="float"><div class="float" 
><table class="float"><tr class="float"><td class="float" 
>
                                                                                         
                                                                                         
<div class="tabular"> <table id="TBL-3" class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-3-1g"><col 
id="TBL-3-1"></colgroup><colgroup id="TBL-3-2g"><col 
id="TBL-3-2"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-1-1"  
class="td11"> <span 
class="ecbx-1200">Property Type </span></td><td  style="white-space:wrap; text-align:left;" id="TBL-3-1-2"  
class="td11"> <!--l. 165--><p class="noindent" ><span 
class="ecbx-1200">Python Type</span>   </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-2-1"  
class="td11"> dataBoolean         </td><td  style="white-space:wrap; text-align:left;" id="TBL-3-2-2"  
class="td11"> <!--l. 167--><p class="noindent" >int                    </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-3-1"  
class="td11"> dataOctet </td><td  style="white-space:wrap; text-align:left;" id="TBL-3-3-2"  
class="td11"> <!--l. 168--><p class="noindent" >int</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-4-1"  
class="td11"> dataFloat            </td><td  style="white-space:wrap; text-align:left;" id="TBL-3-4-2"  
class="td11"> <!--l. 169--><p class="noindent" >float                 </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-3-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-5-1"  
class="td11"> dataDouble </td><td  style="white-space:wrap; text-align:left;" id="TBL-3-5-2"  
class="td11"> <!--l. 170--><p class="noindent" >float</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-6-1"  
class="td11"> dataShort            </td><td  style="white-space:wrap; text-align:left;" id="TBL-3-6-2"  
class="td11"> <!--l. 171--><p class="noindent" >int                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-7-1"  
class="td11"> dataUshort          </td><td  style="white-space:wrap; text-align:left;" id="TBL-3-7-2"  
class="td11"> <!--l. 172--><p class="noindent" >int                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-8-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-8-1"  
class="td11"> dataLong             </td><td  style="white-space:wrap; text-align:left;" id="TBL-3-8-2"  
class="td11"> <!--l. 173--><p class="noindent" >int                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-9-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-9-1"  
class="td11"> dataLongLong      </td><td  style="white-space:wrap; text-align:left;" id="TBL-3-9-2"  
class="td11"> <!--l. 174--><p class="noindent" >long                  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-10-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-10-1"  
class="td11"> dataUlong           </td><td  style="white-space:wrap; text-align:left;" id="TBL-3-10-2"  
class="td11"> <!--l. 175--><p class="noindent" >long                  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-3-11-"><td  style="white-space:nowrap; text-align:left;" id="TBL-3-11-1"  
class="td11"> dataUlongLong     </td><td  style="white-space:wrap; text-align:left;" id="TBL-3-11-2"  
class="td11"> <!--l. 176--><p class="noindent" >long                  </td></tr></table></div>
<br /> <table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Table&#x00A0;4.2: </td><td  
class="content">Mapping of Property Type to Python Type</td></tr></table><!--tex4ht:label?: x6-81001r2 -->
                                                                                         
                                                                                         
</td></tr></table></div><hr class="endfloat" />
</div>
<h5 class="subsubsectionHead"><span class="titlemark">4.7.5.1   </span> <a 
 id="x6-820004.7.5.1"></a>exampleComponent_base.py</h5>
<!--l. 183--><p class="noindent" >The following code contains an example of a complex property initialization as autogenerated by
the REDHAWK code generators.
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
complexFloatProp = simple_property(id_="complexFloatProp",
                                         type_="float",
                                         defvalue=complex(4.0,5.0),
                                         complex=True,
                                         mode="readwrite",
                                         action="external",
                                         kinds=("configure",)
                                         )
]]></script></div>
<!--l. 196--><p class="noindent" >Similarly, a complex simple sequence property is initialized with a Python list of Python complex
values.
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
complexFloatSequence = simpleseq_property(id_="complexFloatSequence",
                                                 type_="float",
                                                 defvalue=[
                                                      complex(4.0,5.0),
                                                      complex(4.0,5.0),
                                                      complex(4.0,5.0),
                                                      ],
                                                 complex=True,
                                                 mode="readwrite",
                                                 action="external",
                                                 kinds=("configure",)
                                                 )
]]></script></div>
<!--l. 214--><p class="noindent" >
                                                                                         
                                                                                         
<h4 class="subsectionHead"><span class="titlemark">4.7.6   </span> <a 
 id="x6-830004.7.6"></a>Java Resource Code</h4>
<!--l. 215--><p class="noindent" >Unlike C++ and Python, which have widely-accepted standard practices for handling complex
numbers (std::complex and Python&#8217;s built-in complex, respectively), Java does not have a
ubiquitous means for representing complex numbers. REDHAWK, therefore, provides a set of data
structures for <a 
href="mainli2.html#glo:component">Component</a> interaction with the REDHAWK Framework. These structures should
be mapped to the developer&#8217;s preferred complex format for use in numeric processing
applications. REDHAWK-provided data structures can be imported in the <a 
href="mainli2.html#glo:component">Component</a> Java
file:
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
import CF.complexBoolean;
import CF.complexULong;
import CF.complexShort;
import CF.complexFloat;
import CF.complexOctet;
import CF.complexChar;
import CF.complexUShort;
import CF.complexDouble;
import CF.complexLong;
import CF.complexLongLong;
import CF.complexULongLong;
]]></script></div>
<!--l. 233--><p class="noindent" >Each class contains data fields "real" and "imag" of the primitive type associated with the complex
type.
<div class="table">
                                                                                         
                                                                                         
<!--l. 235--><p class="noindent" ><a 
 id="x6-83001r3"></a><hr class="float"><div class="float" 
><table class="float"><tr class="float"><td class="float" 
>
                                                                                         
                                                                                         
<div class="tabular"> <table id="TBL-4" class="tabular" 
cellspacing="0" cellpadding="0" rules="groups" 
><colgroup id="TBL-4-1g"><col 
id="TBL-4-1"></colgroup><colgroup id="TBL-4-2g"><col 
id="TBL-4-2"></colgroup><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-1-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-1-1"  
class="td11"> <a 
href="mainap14.html#bulkio"><span 
class="ecbx-1200">BulkIO</span></a> <span 
class="ecbx-1200">Type  </span></td><td  style="white-space:wrap; text-align:left;" id="TBL-4-1-2"  
class="td11"> <!--l. 239--><p class="noindent" > <span 
class="ecbx-1200">Java Type</span>      </td>
</tr><tr 
class="hline"><td><hr></td><td><hr></td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-2-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-2-1"  
class="td11"> dataBoolean      </td><td  style="white-space:wrap; text-align:left;" id="TBL-4-2-2"  
class="td11"> <!--l. 241--><p class="noindent" >boolean             </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-3-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-3-1"  
class="td11"> dataOctet </td><td  style="white-space:wrap; text-align:left;" id="TBL-4-3-2"  
class="td11"> <!--l. 242--><p class="noindent" >byte</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-4-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-4-1"  
class="td11"> dataFloat          </td><td  style="white-space:wrap; text-align:left;" id="TBL-4-4-2"  
class="td11"> <!--l. 243--><p class="noindent" >float                 </td></tr><tr  
 style="vertical-align:baseline;" id="TBL-4-5-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-5-1"  
class="td11"> dataDouble </td><td  style="white-space:wrap; text-align:left;" id="TBL-4-5-2"  
class="td11"> <!--l. 244--><p class="noindent" >double</td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-6-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-6-1"  
class="td11"> dataShort          </td><td  style="white-space:wrap; text-align:left;" id="TBL-4-6-2"  
class="td11"> <!--l. 245--><p class="noindent" >short                 </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-7-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-7-1"  
class="td11"> dataUshort        </td><td  style="white-space:wrap; text-align:left;" id="TBL-4-7-2"  
class="td11"> <!--l. 246--><p class="noindent" >short                 </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-8-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-8-1"  
class="td11"> dataLong          </td><td  style="white-space:wrap; text-align:left;" id="TBL-4-8-2"  
class="td11"> <!--l. 247--><p class="noindent" >int                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-9-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-9-1"  
class="td11"> datauLong         </td><td  style="white-space:wrap; text-align:left;" id="TBL-4-9-2"  
class="td11"> <!--l. 248--><p class="noindent" >int                    </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-10-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-10-1"  
class="td11"> dataULongLong  </td><td  style="white-space:wrap; text-align:left;" id="TBL-4-10-2"  
class="td11"> <!--l. 249--><p class="noindent" >long                  </td>
</tr><tr  
 style="vertical-align:baseline;" id="TBL-4-11-"><td  style="white-space:nowrap; text-align:left;" id="TBL-4-11-1"  
class="td11"> dataLongLong    </td><td  style="white-space:wrap; text-align:left;" id="TBL-4-11-2"  
class="td11"> <!--l. 250--><p class="noindent" >long                  </td></tr></table></div>
<br /> <table class="caption" 
><tr style="vertical-align:baseline;" class="caption"><td class="id">Table&#x00A0;4.3: </td><td  
class="content">Mapping of <a 
href="mainap14.html#bulkio">BulkIO</a> Type to Java Type</td></tr></table><!--tex4ht:label?: x6-83001r3 -->
                                                                                         
                                                                                         
</td></tr></table></div><hr class="endfloat" />
</div>
<h5 class="subsubsectionHead"><span class="titlemark">4.7.6.1   </span> <a 
 id="x6-840004.7.6.1"></a>exampleComponent.java</h5>
<!--l. 257--><p class="noindent" >The following code contains an example of a complex property initialization as autogenerated by
the REDHAWK code generators.
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
public final SimpleProperty<complexFloat> complexFloatProp =
     new SimpleProperty<complexFloat>(
         "complexFloatProp", //id
         null, //name
         "float", //type
         new complexFloat(4.0F,5.0F), //default value
         "readwrite", //mode
         "external", //action
         new String[] {"configure"}, //kind
         true //complex
         );
]]></script></div>
<!--l. 273--><p class="noindent" >Similarly, a complex simple sequence property is initialized with an ArrayList of CF::complex
values.
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
public final SimpleSequenceProperty<complexFloat> complexFloatSequence =
     new SimpleSequenceProperty<complexFloat>(
         "complexFloatSequence", //id
         null, //name
         "float", //type
         new ArrayList<complexFloat>(Arrays.asList(new complexFloat(4.0F,5.0F),
                                                          new complexFloat(4.0F,5.0F),
                                                          new complexFloat(4.0F,5.0F))),
                                                          //default value
         "readwrite", //mode
         "external", //action
         new String[] {"configure"}, //kind
         true //complex
         );
]]></script></div>
                                                                                         
                                                                                         
<!--l. 1--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.8   </span> <a 
 id="x6-850004.8"></a>Resource Interface: <span 
class="ectt-1200">query()</span>/ <span 
class="ectt-1200">configure()</span></h3>
<!--l. 3--><p class="noindent" >Each <a 
href="mainli2.html#glo:component">Component</a> contains an interface of type <span 
class="ectt-1200">CF::Resource </span>that provides remote access to the
<a 
href="mainli2.html#glo:component">Component</a>&#8217;s <span 
class="ectt-1200">query() </span>and <span 
class="ectt-1200">configure() </span>methods. The <span 
class="ectt-1200">query() </span>method provides a means for
reading a <a 
href="mainli2.html#glo:component">Component</a>&#8217;s current <a 
href="mainli2.html#glo:property">Property</a> settings and the the <span 
class="ectt-1200">configure() </span>method provides a
means for setting a <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <a 
href="mainli2.html#glo:property">Property</a> values .
<!--l. 5--><p class="noindent" ><a 
href="mainli2.html#glo:property">Properties</a> can be <span 
class="ectt-1200">readonly</span>, <span 
class="ectt-1200">writeonly</span>, or <span 
class="ectt-1200">readwrite</span>. <a 
href="mainli2.html#glo:property">Properties</a> with read privileges can only be
accessed using the <span 
class="ectt-1200">query() </span>method and <a 
href="mainli2.html#glo:property">Properties</a> with write privileges can only be set using the
<span 
class="ectt-1200">configure() </span>method. Additional information on <a 
href="mainli2.html#glo:property">Properties</a> can be found in <a 
href="mainch12.html#x14-24200012.2.3">Section 12.2.3</a> with
examples in <a 
href="mainch12.html#x14-25000012.3.3">Section 12.3.3</a>.
<!--l. 7--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.8.1   </span> <a 
 id="x6-860004.8.1"></a><span 
class="ectt-1200">query()</span></h4>
<!--l. 8--><p class="noindent" >The <span 
class="ectt-1200">query() </span>method returns a list of Identifier (<a 
href="mainap14.html#id">ID</a>)-value pairs, where each <a 
href="mainap14.html#id">ID</a> corresponds to a
single <a 
href="mainli2.html#glo:property">Property</a>.
<!--l. 10--><p class="noindent" >Below is an example of a list returned by <span 
class="ectt-1200">query()</span>:
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
[ossie.cf.CF.DataType(
     id='DCE:03678164-a827-4d27-92de-22a885736a93',
     value=CORBA.Any(CORBA.TC_boolean, True)),
ossie.cf.CF.DataType(
     id='DCE:529a33ab-f808-4bb5-8ea1-5727304dbf63',
     value=CORBA.Any(CORBA.TC_long, 0)),
ossie.cf.CF.DataType(
     id='DCE:a2c35ba2-39ce-4d8d-8295-feba19f541b1',
     value=CORBA.Any(CORBA.TC_long, 0)),
ossie.cf.CF.DataType(
     id='DCE:a4216b01-3745-4347-874f-1b7cc13623c9',
     value=CORBA.Any(CORBA.TC_long, 0)),
ossie.cf.CF.DataType(
     id='DCE:d1f8a128-d33c-47ba-9246-ce2b4bc0b786',
     value=CORBA.Any(CORBA.TC_short, 0))]
]]></script></div>
                                                                                         
                                                                                         
<!--l. 30--><p class="noindent" >The <span 
class="ectt-1200">query() </span>result in the code example depicts five <a 
href="mainli2.html#glo:property">Properties</a> of types boolean, long, long, long,
and short, respectively. The values of each of these <a 
href="mainli2.html#glo:property">Properties</a> are set to <span 
class="ectt-1200">True</span>, <span 
class="ectt-1200">0</span>, <span 
class="ectt-1200">0</span>, <span 
class="ectt-1200">0</span>, and <span 
class="ectt-1200">0</span>,
respectively. The 5 <a 
href="mainap14.html#id">ID</a> values, which happen to be Universally Unique Identifiers (<a 
href="mainap14.html#uuid">UUID</a>s) in this
case, correspond to the <a 
href="mainap14.html#id">ID</a>s of the <a 
href="mainli2.html#glo:property">Properties</a> as dictated by the <a 
href="mainli2.html#glo:component">Component</a>&#8217;s <span 
class="ectt-1200">prf.xml</span>
file.
<!--l. 33--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.8.2   </span> <a 
 id="x6-870004.8.2"></a>Specializing Component Configuration</h4>
<!--l. 35--><p class="noindent" >The REDHAWK library base classes provide a complete implementation of <span 
class="ectt-1200">configure()</span>, with the
creation of specific <a 
href="mainli2.html#glo:property">Properties</a> handled per <a 
href="mainli2.html#glo:component">Component</a> by the generated base classes.
Beyond the basic updating of local values, the standard <span 
class="ectt-1200">configure() </span>implementation
provides:
      <ul class="itemize1">
      <li class="itemize">Thread-safe updates via mutual exclusion
      </li>
      <li class="itemize">Automatic conversion of numeric types
      </li>
      <li class="itemize">Notification on changes to <a 
href="mainli2.html#glo:property">Property</a> values
      </li>
      <li class="itemize">External reporting of changes via events
      </li>
      <li class="itemize">Exception throwing for invalid input</li></ul>
<!--l. 45--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.8.2.1   </span> <a 
 id="x6-880004.8.2.1"></a>Property Change Listeners</h5>
<!--l. 47--><p class="noindent" >Often, it is useful to trigger additional actions when the value of a <a 
href="mainli2.html#glo:property">Property</a> changes. <a 
href="mainli2.html#glo:component">Components</a>
support a type of notification called <a 
href="mainli2.html#glo:property">Property</a> change listeners that enable the developer to register
callback methods that are executed whenever <span 
class="ectt-1200">configure() </span>is called with new values for the
particular <a 
href="mainli2.html#glo:property">Property</a>.
                                                                                         
                                                                                         
<!--l. 49--><p class="noindent" ><a 
href="mainli2.html#glo:property">Property</a> change listeners are executed while holding the lock that protects access to all <a 
href="mainli2.html#glo:property">Properties</a>
for the <a 
href="mainli2.html#glo:component">Component</a>. This ensures that no outside changes can occur while responding to <a 
href="mainli2.html#glo:property">Property</a>
changes. The callback may alter the value of the <a 
href="mainli2.html#glo:property">Property</a> or call additional functions; however,
avoid computationally expensive or blocking operations.
<!--l. 51--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.8.2.2   </span> <a 
 id="x6-890004.8.2.2"></a>C++</h5>
<!--l. 53--><p class="noindent" >C++ <a 
href="mainli2.html#glo:component">Components</a> support notification of <a 
href="mainli2.html#glo:property">Property</a> value changes using member function callbacks.
The callback is registered by <a 
href="mainli2.html#glo:property">Property</a> <a 
href="mainap14.html#id">ID</a>.
<!--l. 55--><p class="noindent" >The following example explains how to add a <a 
href="mainli2.html#glo:property">Property</a> change listener for the <span 
class="ectt-1200">freqMHz </span>simple
<a 
href="mainli2.html#glo:property">Property</a>, with a type float, of a <a 
href="mainli2.html#glo:component">Component</a> named <span 
class="ectt-1200">component</span>.
<!--l. 57--><p class="noindent" >In <span 
class="ectt-1200">[component].h</span>, add a private method declaration for your callback. The callback receives two
arguments, the old and new values, both by const pointer:
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
void freqMHz_changed(const float* oldValue, const float* newValue);
]]></script></div>
<!--l. 63--><p class="noindent" >You must define the function in your <span 
class="ectt-1200">[component].cpp </span>file.
<!--l. 65--><p class="noindent" >Then, in the <a 
href="mainli2.html#glo:component">Component</a> constructor, register the change listener:
<div class="minipage"><script type="syntaxhighlighter" class="brush: cpp"><![CDATA[
this->addPropertyChangeListener("freqMHz", this,
        &MyComponent_i::freqMHz_changed);
]]></script></div>
<!--l. 72--><p class="noindent" >The exact type of the callback arguments is not checked at compile time. At run time, if the native
type of the <a 
href="mainli2.html#glo:property">Property</a> does not match the argument type, the registration fails and a warning is
logged:
                                                                                         
                                                                                         
<div class="verbatim">
2014-06-09&#x00A0;14:30:23&#x00A0;WARN&#x00A0;&#x00A0;PropertySet_impl:132&#x00A0;-&#x00A0;&#x00A0;Cannot&#x00A0;add&#x00A0;change
&#x00A0;<br />&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;&#x00A0;listener:&#x00A0;Property&#x00A0;&#8217;TuningRF&#8217;&#x00A0;is&#x00A0;of&#x00A0;type&#x00A0;&#8217;CORBA::ULongLong&#8217;
</div>
<!--l. 77--><p class="nopar" >
<!--l. 79--><p class="noindent" >This happens most often when using long, ulong, longlong, and ulonglong <a 
href="mainli2.html#glo:property">Properties</a>. The
callback arguments should be declared using the <a 
href="mainap14.html#corba">CORBA</a>-defined types (for example,
CORBA::Long) instead of the C++ type (for example, long, which varies in size depending on the
platform).
<!--l. 82--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.8.2.3   </span> <a 
 id="x6-900004.8.2.3"></a>Python</h5>
<!--l. 84--><p class="noindent" >Like C++, Python <a 
href="mainli2.html#glo:component">Components</a> allow registering listeners by <a 
href="mainli2.html#glo:property">Property</a>. The callback is typically a
member function.
<!--l. 86--><p class="noindent" >The following example explains how to add a <a 
href="mainli2.html#glo:property">Property</a> change listener for the <span 
class="ectt-1200">freqMHz</span>
<a 
href="mainli2.html#glo:property">Property</a>.
<!--l. 88--><p class="noindent" >Define the callback as a member function on your <a 
href="mainli2.html#glo:component">Component</a>. Excluding the implicit <span 
class="ectt-1200">self</span>
argument, the callback receives three arguments: the <a 
href="mainli2.html#glo:property">Property</a> <a 
href="mainap14.html#id">ID</a> and the old and new
values.
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
def freqMHz_changed(self, propid, oldval, newval):
        # Perform action based on change
]]></script></div>
<!--l. 95--><p class="noindent" >In your <a 
href="mainli2.html#glo:component">Component</a> <span 
class="ectt-1200">initialize() </span>method or constructor, register the change listener:
<div class="minipage"><script type="syntaxhighlighter" class="brush: python"><![CDATA[
self.addPropertyChangeListener("freqMHz", self.freqMHz_changed)
]]></script></div>
<!--l. 101--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.8.2.4   </span> <a 
 id="x6-910004.8.2.4"></a>Java</h5>
                                                                                         
                                                                                         
<!--l. 103--><p class="noindent" >Java <a 
href="mainli2.html#glo:property">Properties</a> support an idiomatic listener interface for responding to changes. As
opposed to C++ and Python, listener registration is performed directly on the <a 
href="mainli2.html#glo:property">Property</a>
object.
<!--l. 105--><p class="noindent" >The following example explains how to add a <a 
href="mainli2.html#glo:property">Property</a> change listener for the <span 
class="ectt-1200">freqMHz </span><a 
href="mainli2.html#glo:property">Property</a> of
a <a 
href="mainli2.html#glo:component">Component</a> named <span 
class="ectt-1200">MyComponent</span>.
<!--l. 107--><p class="noindent" >Define your callback that will respond to changes for the <a 
href="mainli2.html#glo:property">Property</a> as a member function on your
<a 
href="mainli2.html#glo:component">Component</a> class. For simple numeric <a 
href="mainli2.html#glo:property">Properties</a>, the old and new value arguments can be the
primitive type (for example, float):
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
private void freqMHz_changed(float oldValue, float newValue) {
     // Perform action based on change
}
]]></script></div>
<!--l. 115--><p class="noindent" >In your <a 
href="mainli2.html#glo:component">Component</a>&#8217;s constructor, define an anonymous subclass of
<span 
class="ectt-1200">org.ossie.properties.ChangeListener </span>that connects the <a 
href="mainli2.html#glo:property">Property</a>&#8217;s change notification to your
callback. For simple numeric <a 
href="mainli2.html#glo:property">Properties</a>, the type parameter of the <span 
class="ectt-1200">ChangeListener </span>class must be
the boxed type (for example, Float).
<div class="minipage"><script type="syntaxhighlighter" class="brush: java"><![CDATA[
this.freqMHz.addPropertyListener(new ChangeListener<Float>() {
     void valueChanged(Float oldValue, Float newValue) {
         MyComponent_i.this.freqMHz_changed(oldValue, newValue);
     }
});
]]></script></div>
<!--l. 125--><p class="noindent" >
<h5 class="subsubsectionHead"><span class="titlemark">4.8.2.5   </span> <a 
 id="x6-920004.8.2.5"></a>Overriding the <span 
class="ectt-1200">configure() </span>Method</h5>
<!--l. 129--><p class="noindent" >For the vast majority of cases, the standard <span 
class="ectt-1200">configure() </span>implementation is sufficient. Developers
are strongly discouraged from overriding <span 
class="ectt-1200">configure()</span>. However, in the event that additional
functionality beyond what is provided is required, the overridden method should call the base class
<span 
class="ectt-1200">configure() </span>method to ensure that the behavior expected by the library and framework is
preserved. Whether the base class method is pre- or post-extended is left to the discretion of the
<a 
href="mainli2.html#glo:component">Component</a> developer.
                                                                                         
                                                                                         
<!--l. 1--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">4.9   </span> <a 
 id="x6-930004.9"></a>Including External Libraries</h3>
<!--l. 2--><p class="noindent" >This section details how to link a C++ <a 
href="mainli2.html#glo:component">Component</a> with a library. Two examples are given: using a
pkg-config (<span 
class="ectt-1200">.pc</span>) file to find and link against a library, and directly linking against a library. Using
the pkg-config file will allow your project to check for the presence of the library and issue an error
while running configure if it is not found. It also will let you avoid hard-coded options. If a
pkg-config file is not available, or if you wish to directly supply the compiler/linker flags, you can
use the second method.
<!--l. 4--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.9.1   </span> <a 
 id="x6-940004.9.1"></a>Adding a Library by Referencing a pkg-config File</h4>
<!--l. 5--><p class="noindent" >To add a library by referencing a pkg-config (<span 
class="ectt-1200">.pc</span>) file, edit the <span 
class="ectt-1200">configure.ac </span>file in your
<a 
href="mainli2.html#glo:component">Component</a>&#8217;s implementation directory. Find the line referencing PROJECTDEPS in the code that
looks like this:
<div class="minipage"><script type="syntaxhighlighter" class="brush: bash"><![CDATA[
PKG_CHECK_MODULES([PROJECTDEPS], [ossie >= 1.10 omniORB4 >= 4.1.0])
]]></script></div>
<!--l. 11--><p class="noindent" >and add your library to the list of requirements. For example, if you need version 1.2.3 or greater of
the foo library:
<div class="minipage"><script type="syntaxhighlighter" class="brush: bash"><![CDATA[
PKG_CHECK_MODULES([PROJECTDEPS], [
  ossie >= 1.10
  omniORB4 >= 4.1.0
  foo >= 1.2.3
])
]]></script></div>
<!--l. 21--><p class="noindent" >If your pkg-config file is not on the pkg-config path, you can augment the pkg-config search path
by adding a line just before the call to PKG_CHECK_MODULES:
<div class="minipage"><script type="syntaxhighlighter" class="brush: bash"><![CDATA[
export PKG_CONFIG_PATH=/custom/path:$PKG_CONFIG_PATH
]]></script></div>
                                                                                         
                                                                                         
<!--l. 27--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">4.9.2   </span> <a 
 id="x6-950004.9.2"></a>Adding a Library Directly</h4>
<!--l. 28--><p class="noindent" >To add a library, edit the <span 
class="ectt-1200">Makefile.am </span>file in your component&#8217;s implementation directory. Append
compiler and linker flags to the end of the CXXFLAGS and LDADD lines, respectively. For
example:
<div class="minipage"><script type="syntaxhighlighter" class="brush: bash"><![CDATA[
MyComponent_CXXFLAGS = ... -I/usr/local/include/foo
MyComponent_LDADD = ... -L/usr/local/lib64 -lfoo
]]></script></div>
                                                                                         
                                                                                         
<!--l. 2--><div class="crosslinks"><p class="noindent">[<a 
href="mainch5.html" >next</a>] [<a 
href="mainch3.html" >prev</a>] [<a 
href="mainch3.html#tailmainch3.html" >prev-tail</a>] [<a 
href="mainch4.html" >front</a>] [<a 
href="main.html#mainch4.html" >up</a>] </p></div>
<!--l. 2--><p class="noindent" ><a 
 id="tailmainch4.html"></a>   
 
<div class=license>  
<hr> 
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" /></a><br /><span xmlns:dct="http:// purl.org/dc/terms/" property="dct:title">REDHAWK Documentation</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>. 
 
</div></section></div> 
</body></html> 
