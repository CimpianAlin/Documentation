<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>H Resolving omniNames/omniEvents Failures</title> 
<meta http-equiv="Content-Type" content="text/html; charset="utf-8""> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,2,next,javascript,charset="utf-8" --> 
<meta name="src" content="main.tex"> 
<link rel="stylesheet" type="text/css" href="main.css"> 
<script type="text/javascript" src="scripts/shCore.js"></script> 
<script type="text/javascript" src="scripts/shBrushCpp.js"></script> 
<script type="text/javascript" src="scripts/shBrushJava.js"></script> 
<script type="text/javascript" src="scripts/shBrushPython.js"></script> 
<script type="text/javascript" src="scripts/shBrushBash.js"></script> 
<script type="text/javascript" src="scripts/shBrushXml.js"></script> 
<link href="styles/shCore.css" rel="stylesheet" type="text/css" /> 
<link href="styles/shThemeDefault.css" rel="stylesheet" type="text/css" /> 
<script type="text/javascript"> 
SyntaxHighlighter.all() 
</script> 
 </head><body 
>
<link rel="icon" type="image/png" href="images/RedHawk_Logo16x.gif"> 
<script> 
function f() {  
document.getElementById('main_content_wrap').focus(); 
} 
if (window.addEventListener) { 
window.addEventListener("load", f, false); 
} else if (window.attachEvent) { 
window.attachEvent("onload", f); 
} 
</script> 
<div class="header"> 
<ul class="navbar"> 
<li><a class="logo-small" href="index.html"><img src="images/RedHawk_Logo_ALT_B_121px.png"/></a></li> <li><a href="index.html">Home</a></li> 
<li><a href="gettingstarted/main.html">Getting Started</a></li> 
<li><a class="active" href="main.html">Documentation</a></li> 
<li><a href="download.html">Download</a></li> 
<li><a href="community.html">Community</a></li> 
</ul> 
<div class="pattern right"></div> 
<a id="forkme_banner" href="https://github.com/redhawksdr">View on GitHub</a> 
<noscript><div class ="NoScript">WARNING: JAVASCRIPT is not enabled. JAVASCRIPT is required for viewing code snippets.</div></noscript> 
</div> 
<!-- Custom MAIN CONTENT --> 
<div id="main_content_wrap" tabindex="0" class="outer"> 
<section id="main_content" class="inner"> 
<!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="mainap9.html" >next</a>] [<a 
href="mainap7.html" >prev</a>] [<a 
href="mainap7.html#tailmainap7.html" >prev-tail</a>] [<a 
href="#tailmainap8.html">tail</a>] [<a 
href="main.html#mainap8.html" >up</a>] </p></div>
<h2 class="appendixHead"><span class="titlemark">Appendix&#x00A0;H</span><br /><a 
 id="x34-430000H"></a>Resolving omniNames/omniEvents Failures</h2>
<h3 class="sectionHead"><span class="titlemark">H.1   </span> <a 
 id="x34-431000H.1"></a>Introduction</h3>
<!--l. 3--><p class="noindent" >This appendix explains how to resolve omniNames/omniEvents failures.
<!--l. 5--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">H.2   </span> <a 
 id="x34-432000H.2"></a>Performing a Soft Reset of omniNames</h3>
<!--l. 7--><p class="noindent" >If the runtime-error indicates a naming service failure, first attempt a soft reset on
omniNames:
<div class="minipage"><script type="syntaxhighlighter" class="brush: bash"><![CDATA[
sudo /sbin/service omniNames restart
]]></script></div>
<!--l. 13--><p class="noindent" >This process first performs a "stop" and then performs a "start". If the "stop" process fails,
omniNames was never started, stopped due to an error condition, or is in a non-recoverable state.
If the "start" process fails, omniNames is either misconfigured or already running (i.e., omniNames
was not stopped).
<!--l. 17--><p class="noindent" ><div class="admonition block note block-indent"><div class="note-inner"><p class="para block block-first"> omniNames can potentially report a successful "start" and then fail soon after. If the omniNames
service appears to fail after reporting a successful start, a reconfiguration and hard reset of
omniNames may be necessary. For more information, refer to "Common Causes for omniNames
Failure" and "Performing a Hard Reset of omniNames". </p></div></div>
<!--l. 24--><p class="noindent" >A restart of omniEvents may be necessary when restarting omniNames. For more information,
refer to "Resetting omniEvents".
<!--l. 26--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">H.3   </span> <a 
 id="x34-433000H.3"></a>Setting Omni Log Levels</h3>
<!--l. 28--><p class="noindent" >When diagnosing omniNames/omniEvents problems, it is often useful to increase the omni logging
                                                                                         
                                                                                         
levels. Use the following procedure to increase the omni logging levels:
<!--l. 30--><p class="noindent" >
      <ol  class="enumerate1" >
      <li 
  class="enumerate" id="x34-433002x1">Open the /etc/omniORB.cfg file.
      </li>
      <li 
  class="enumerate" id="x34-433004x2">Uncomment the traceLevel line.
      </li>
      <li 
  class="enumerate" id="x34-433006x3">Set the traceLevel value to a larger number. For example, change:
      <div class="minipage"><script type="syntaxhighlighter" class="brush: bash"><![CDATA[
#traceLevel = 1
]]></script></div>
      <!--l. 39--><p class="noindent" >to:
      <div class="minipage"><script type="syntaxhighlighter" class="brush: bash"><![CDATA[
traceLevel = 10
]]></script></div>
      </li></ol>
<!--l. 46--><p class="noindent" >Details on the available trace levels can be found in the /etc/omniORB.cfg file. For the changes to
take effect, restart omniNames/omniEvents.
<!--l. 49--><p class="noindent" >Log messages are displayed in the terminal and in the files contained in /var/log/omniORB and
/var/lib/omniEvents.
<!--l. 51--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">H.4   </span> <a 
 id="x34-434000H.4"></a>Common Causes for omniNames Failure</h3>
<!--l. 52--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">H.4.1   </span> <a 
 id="x34-435000H.4.1"></a>IP Version 6 Conflicts</h4>
<!--l. 54--><p class="noindent" >Certain combinations of IP Version 6 (IPv6) configurations and /etc/omniORB.cfg configurations
can cause omniNames failures.
<!--l. 56--><p class="noindent" >Specifically, if the InitRef section of /etc/omniORB.cfg is set to point to "localhost" rather than
pointing explicitly to "127.0.0.1", the operating system may resolve "localhost" to "::1" (the IPv6
                                                                                         
                                                                                         
localhost) and not to "127.0.0.1" (the IPv4 localhost). If this occurs, omniNames fails. There are
three options for preventing this failure condition:
      <ul class="itemize1">
      <li class="itemize">Explicitly set "127.0.0.1" in the initRef section instead of using "localhost".
      </li>
      <li class="itemize">Disable IPv6 in the operating system (refer to operating system documentation).
      </li>
      <li class="itemize">Modify the /etc/hosts file to prevent "localhost" from being resolved as "::1".</li></ul>
<!--l. 66--><p class="noindent" >
<h5 class="subsubsectionHead"><a 
 id="x34-436000H.4.1"></a>Preventing IPv6 Localhost Resolution</h5>
<!--l. 68--><p class="noindent" >Below is an example /etc/hosts file from an older CentOS distribution:
<div class="minipage"><script type="syntaxhighlighter" class="brush: bash"><![CDATA[
127.0.0.1   localhost.localdomain     localhost
::1         localhost6.localdomain6   localhost6
]]></script></div>
<!--l. 75--><p class="noindent" >Below is an example /etc/hosts file from a newer CentOS distribution:
<div class="minipage"><script type="syntaxhighlighter" class="brush: bash"><![CDATA[
127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4
::1       localhost localhost.localdomain localhost6 localhost6.localdomain6
]]></script></div>
<!--l. 82--><p class="noindent" >In the older /etc/hosts file, "localhost" resolves unambiguously to "127.0.0.1". In the newer
/etc/hosts file, "localhost" can resolve to either "127.0.0.1" or "::1" (where resolving to "::1"
causes an omniNames failure).
<!--l. 85--><p class="noindent" >The newer /etc/hosts file can be modified to read:
<div class="minipage"><script type="syntaxhighlighter" class="brush: bash"><![CDATA[
127.0.0.1 localhost localhost.localdomain localhost4 localhost4.localdomain4
::1       localhost6 localhost6.localdomain6
]]></script></div>
<!--l. 92--><p class="noindent" >Alternatively, "localhost4" can be used in the InitRef section of /etc/omniORB.cfg.
                                                                                         
                                                                                         
<!--l. 94--><p class="noindent" >The line pertaining to IPv6 can also be completely removed from the file; however, some operating
systems, depending on IPv6 configurations, may automatically repopulate IPv6 localhost settings
on reboot.
<!--l. 96--><p class="noindent" >
<h4 class="subsectionHead"><span class="titlemark">H.4.2   </span> <a 
 id="x34-437000H.4.2"></a>Invalid IP Addresses in /etc/hosts</h4>
<!--l. 98--><p class="noindent" >Invalid entries in the /etc hosts file may induce an omniNames failure. Invalid entries may be in
the form of an IP address that cannot be reached or in the form of an entry that is not
valid according to the /etc/hosts grammar. <div class="admonition block note block-indent"><div class="note-inner"><p class="para block block-first">  Firewall IP and port settings on both
the server and client side may cause the target omniNames service to be unreachable. </p></div></div>
<!--l. 104--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">H.5   </span> <a 
 id="x34-438000H.5"></a>Performing a Hard Reset of omniNames</h3>
<!--l. 106--><p class="noindent" >omniNames will refrain from completely restarting if omniNames log files are present;
therefore, the omniNames log files must be deleted for some configuration changes to take
effect.
<!--l. 109--><p class="noindent" >To completely restart omniNames, enter the following commands.
<!--l. 111--><p class="noindent" ><div class="admonition block note block-indent"><div class="note-inner"><p class="para block block-first"> Do not remove the omniNames <span 
class="ecti-1200">directory</span>. Only the contents of the directories should be removed.
It is also recommended that you backup the omniNames directory before removing its contents. </p></div></div>
<div class="minipage"><script type="syntaxhighlighter" class="brush: bash"><![CDATA[
sudo /sbin/service omniNames stop
sudo rm -f /var/log/omniORB/*
sudo /sbin/service omniNames start
]]></script></div>
<!--l. 123--><p class="noindent" >A restart of omniEvents may be necessary when restarting omniNames: For more information,
refer to "Resetting omniEvents" .
                                                                                         
                                                                                         
<!--l. 126--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">H.6   </span> <a 
 id="x34-439000H.6"></a>Resetting omniEvents</h3>
<!--l. 128--><p class="noindent" >Performing soft and hard resets of omniEvents is very similar to to performing omniNames resets.
To perform a soft reset of omniEvents, enter the following command:
<div class="minipage"><script type="syntaxhighlighter" class="brush: bash"><![CDATA[
sudo /sbin/service omniEvents restart
]]></script></div>
<!--l. 135--><p class="noindent" >To completely restart omniEvents, enter the following commands.
<!--l. 137--><p class="noindent" ><div class="admonition block note block-indent"><div class="note-inner"><p class="para block block-first"> Do not remove the omniEvents <span 
class="ecti-1200">directory</span>. Only the contents of the directories should be removed.
It is also recommended that you backup the omniEvents directory before removing its contents. </p></div></div>
<div class="minipage"><script type="syntaxhighlighter" class="brush: bash"><![CDATA[
sudo /sbin/service omniEvents stop
sudo rm -f /var/lib/omniEvents/*
sudo /sbin/service omniEvents start
]]></script></div>
<!--l. 149--><p class="noindent" ><div class="admonition block note block-indent"><div class="note-inner"><p class="para block block-first"> The relevant log files are located in /var/lib/omniEvents, not in /var/omniEvents (even though a
/var/omniEvents folder exists). </p></div></div>
<!--l. 153--><p class="noindent" >
<h3 class="sectionHead"><span class="titlemark">H.7   </span> <a 
 id="x34-440000H.7"></a>Summary</h3>
<!--l. 155--><p class="noindent" >To completely restart both omniNames and omniEvents, perform the following commands. <div class="admonition block note block-indent"><div class="note-inner"><p class="para block block-first">  Do
not remove the omniNames or omniEvents <span 
class="ecti-1200">directories</span>. Only the contents of the directories should
be removed. It is also recommended that you backup the omniNames and omniEvents directories
before removing their contents. </p></div></div>
                                                                                         
                                                                                         
<div class="minipage"><script type="syntaxhighlighter" class="brush: bash"><![CDATA[
sudo /sbin/omniEvents stop
sudo /sbin/omniNames stop
sudo rm -f /var/log/omniORB/* /var/lib/omniEvents/*
sudo /sbin/omniNames/ start
sudo /sbin/omniEvents start
]]></script></div>
                                                                                         
                                                                                         
<!--l. 1--><div class="crosslinks"><p class="noindent">[<a 
href="mainap9.html" >next</a>] [<a 
href="mainap7.html" >prev</a>] [<a 
href="mainap7.html#tailmainap7.html" >prev-tail</a>] [<a 
href="mainap8.html" >front</a>] [<a 
href="main.html#mainap8.html" >up</a>] </p></div>
<!--l. 1--><p class="noindent" ><a 
 id="tailmainap8.html"></a>  
 
<div class=license>  
<hr> 
<a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US"><img alt="Creative Commons License" style="border-width:0" src="http://i.creativecommons.org/l/by-sa/3.0/80x15.png" /></a><br /><span xmlns:dct="http:// purl.org/dc/terms/" property="dct:title">REDHAWK Documentation</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/deed.en_US">Creative Commons Attribution-ShareAlike 3.0 Unported License</a>. 
 
</div></section></div> 
</body></html> 
